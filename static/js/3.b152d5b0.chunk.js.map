{"version":3,"sources":["components/Preloaders/PreloaderServerUpload/PreloaderServerUpload.jsx","components/Preloaders/PreloaderServerUpload/index.js","components/ButtonFollowUnfollow/ButtonFollowUnfollow.module.scss","../node_modules/classnames/index.js","components/ButtonFollowUnfollow/ButtonFollowUnfollow.jsx","components/ButtonFollowUnfollow/index.js","components/Users/Users.module.scss","components/Pagination/Pagination.module.scss","components/Users/UserItem/index.js","components/Users/UserItem/UserItem.jsx","components/Pagination/Pagination.jsx","components/Pagination/index.js","components/Users/UsersList/UsersList.jsx","../node_modules/reselect/es/index.js","redux/users-selectors.js","components/Users/UsersList/index.js","pages/UsersPage/UsersPage.jsx","components/Users/index.js","pages/UsersPage/index.js"],"names":["PreloaderServerUpload","module","exports","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","default","ButtonFollowUnfollow","props","friend","follow","unfollow","userId","text","styleButton","style","notFriend","onClickButton","onClick","className","defaultProps","UserItem","followed","isFetchingFollowOrUnfollowIdList","photo","name","defaultAvatarSrc","id","navlinkTo","isAuth","startCommunication","isFetching","some","element","avatarSrc","UserItemContainer","to","src","alt","PropTypes","propTypes","listPageNumbers","array","isRequired","countCardsInPage","number","getCards","func","loading","bool","Pagination","loadingStyle","useState","currentPageNumber","setCurrentPageNumber","pageNumbers","map","pageNumber","pageNumberContainer","onPageChanged","button","currentPage","disabled","pageNumberListContainer","UsersList","totalUsersCount","pagesSize","users","getUsers","countPage","Math","ceil","pages","user","photos","small","defaultEqualityCheck","a","b","areArgumentsShallowlyEqual","equalityCheck","prev","next","getDependencies","funcs","dependencies","every","dep","dependencyTypes","Error","createSelector","memoize","_len","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","undefined","concat","selector","params","resetRecomputations","createSelectorCreator","lastArgs","lastResult","state","usersPage","getPagesSize","getTotalUsersCount","getIsFetching","getIsFetchingFollowOrUnfollowIdList","getIsAuth","auth","getDefaultAvatarSrc","actionCreators","getUsersSC","connect","useEffect","Users","console","log","UsersContainer","UsersPage"],"mappings":"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","file":"static/js/3.b152d5b0.chunk.js","sourcesContent":["import React from \"react\";\n\nconst PreloaderServerUpload = () => {\n  return (<div>\n            <h2>Идёт запрос на сервер!</h2>\n          </div>\n          );\n};\n\nexport default PreloaderServerUpload;\n","import PreloaderServerUpload from \"./PreloaderServerUpload\"\nexport default PreloaderServerUpload;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"ButtonFollowUnfollow_friend__1wpfo\",\"notFriend\":\"ButtonFollowUnfollow_notFriend__3iQnm\"};","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from \"react\";\nimport PropTypes from \"prop-types\"\nimport style from \"./ButtonFollowUnfollow.module.scss\";\nimport classNames from 'classnames';\n\n\nconst ButtonFollowUnfollow = (props) => {\n  const {friend, follow, unfollow, userId} = props;\n\n  const text = friend ? \"Удалить из друзей\": \"Добавить в друзья\";\n  const styleButton = classNames({ [style.friend]: friend }, { [style.notFriend]: !friend });\n  const onClickButton = friend ? unfollow: follow;\n  return (<button onClick={() => onClickButton(userId)} className={styleButton}>\n            {text}\n          </button>);\n};\n\nButtonFollowUnfollow.propTypes = {\n  userId: PropTypes.number,\n  follow: PropTypes.func.isRequired,\n  unfollow: PropTypes.func.isRequired,\n};\n\nButtonFollowUnfollow.defaultProps = {\n  friend: false,\n}\n\nexport default ButtonFollowUnfollow;","import ButtonFollowUnfollow from \"./ButtonFollowUnfollow\";\nexport default ButtonFollowUnfollow;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserItemContainer\":\"Users_UserItemContainer__jPxDp\",\"photo\":\"Users_photo__1FgDE\",\"name\":\"Users_name__1K_Vf\",\"deleteFriendButton\":\"Users_deleteFriendButton__2nOmo\",\"addFriendButton\":\"Users_addFriendButton__TqzPu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currentPage\":\"Pagination_currentPage__2JXqN\",\"pageNumberListContainer\":\"Pagination_pageNumberListContainer__1cHI3\",\"pageNumberContainer\":\"Pagination_pageNumberContainer__3HSkW\",\"button\":\"Pagination_button__hHvcW\",\"loadingStyle\":\"Pagination_loadingStyle__mxq0N\"};","import UserItem from \"./UserItem\";\r\nexport default UserItem;","import React from \"react\";\nimport style from \"../Users.module.scss\";\nimport PropTypes from \"prop-types\";\nimport {NavLink} from \"react-router-dom\";\nimport PreloaderServerUpload from \"../../Preloaders/PreloaderServerUpload\";\nimport ButtonFollowUnfollow from \"../../ButtonFollowUnfollow\";\n\nconst UserItem = (props) => {\n    const {\n        followed, follow, unfollow, isFetchingFollowOrUnfollowIdList,\n        photo, name, defaultAvatarSrc, id, navlinkTo, isAuth,\n        startCommunication\n    } = props;\n\n    let isFetching = isFetchingFollowOrUnfollowIdList.some(element => element === id) ? <PreloaderServerUpload/> : null;\n    let avatarSrc = photo ? photo : defaultAvatarSrc;\n\n    return (\n        <div className={style.UserItemContainer}>\n            <NavLink to={navlinkTo}>\n                <img className={style.photo}\n                     src={avatarSrc}\n                     alt={\"user\"}/>\n                <p className={style.name}>{name}</p>\n            </NavLink>\n            <div>\n                <p>{\"\"}</p>\n                <p>{\"\"}</p>\n                {isFetching || (isAuth && <ButtonFollowUnfollow follow={follow}\n                                                               unfollow={unfollow}\n                                                               friend={followed}\n                                                               userId={id}/>)}\n                <button onClick={() => startCommunication(id)}>Начать диалог</button>\n            </div>\n        </div>\n\n    );\n};\n\nUserItem.propTypes = {\n    followed: PropTypes.bool,\n    follow: PropTypes.func,\n    unfollow: PropTypes.func,\n    isFetchingFollowOrUnfollowIdList: PropTypes.array,\n    photo: PropTypes.string,\n    name: PropTypes.string,\n    defaultAvatarSrc: PropTypes.string,\n    id: PropTypes.number,\n    navlinkTo: PropTypes.string,\n    isAuth: PropTypes.bool,\n    startCommunication: PropTypes.func,\n}\n\nexport default UserItem;","import React, {useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport style from \"./Pagination.module.scss\";\n\nconst Pagination = (props) => {\n  const {listPageNumbers, countCardsInPage, getCards, loading} = props;\n\n  let loadingStyle = loading ? style.loadingStyle: \"\";\n  let onPageChanged = (pageNumber, countCardsInPage) => {\n    setCurrentPageNumber(pageNumber);\n    getCards(pageNumber, countCardsInPage);\n  }\n  const [currentPageNumber, setCurrentPageNumber] = useState(1); // переменная одинаковая X\n  let pageNumbers = listPageNumbers\n                    .map(pageNumber => {\n                      return <li key={'key-' + pageNumber} className={style.pageNumberContainer}>\n                               <button onClick={() => {\n                                                       if (!loading) onPageChanged(pageNumber, countCardsInPage)\n                                                      }\n                                               } \n                                       className={`${style.button} ${currentPageNumber === pageNumber && style.currentPage}`}\n                                       disabled={loading}>\n                                 {pageNumber}\n                               </button>\n                             </li>\n                                    }\n                                );\n\n  return (<ul className={`${loadingStyle} ${style.pageNumberListContainer}`}>{pageNumbers}</ul>);\n};\n\nPropTypes.propTypes = {\n  listPageNumbers: PropTypes.array.isRequired,\n  countCardsInPage: PropTypes.number.isRequired,\n  getCards: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n}\n\nexport default Pagination;","import Pagination from \"./Pagination\";\r\nexport default Pagination;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport UserItem from \"../UserItem\";\nimport Pagination from \"../../Pagination\";\nimport PreloaderServerUpload from \"../../Preloaders/PreloaderServerUpload\";\n\n\nlet UsersList = (props) => {\n  const {totalUsersCount, pagesSize, \n    isFetching, users, getUsers, follow, unfollow, \n    defaultAvatarSrc, isFetchingFollowOrUnfollowIdList, isAuth,\n    startCommunication} = props;\n\n  let countPage = Math.ceil(totalUsersCount / pagesSize);\n  let pages = [];\n  for(let i = 1; i <= countPage; i++) {\n    pages.push(i);\n  }\n\n    return (<>\n               <Pagination listPageNumbers={pages}\n                           countCardsInPage={pagesSize} \n                           loading={isFetching}\n                           getCards={getUsers} />\n               {isFetching ? <PreloaderServerUpload /> : null}\n               {!isFetching && users.map((user, i) => <UserItem key={user.name + i}\n                                                                navlinkTo={\"/Profile/\" + user.id}\n                                                                id={user.id} \n                                                                photo={user.photos.small}\n                                                                name={user.name}\n                                                                followed={user.followed}\n                                                                isFetchingFollowOrUnfollowIdList={isFetchingFollowOrUnfollowIdList}\n                                                                follow={follow} \n                                                                unfollow={unfollow}\n                                                                defaultAvatarSrc={defaultAvatarSrc} \n                                                                isAuth={isAuth}\n                                                                startCommunication={startCommunication} />)}\n           </>);        \n}\n\nUsersList.propTypes = {\n  totalUsersCount: PropTypes.number.isRequired,\n  pagesSize: PropTypes.number.isRequired,\n  isFetching: PropTypes.bool.isRequired,\n  users: PropTypes.array.isRequired,\n  getUsers: PropTypes.func.isRequired,\n  follow: PropTypes.func.isRequired,\n  unfollow: PropTypes.func.isRequired,\n  defaultAvatarSrc: PropTypes.string.isRequired,\n  isFetchingFollowOrUnfollowIdList: PropTypes.array.isRequired,\n  isAuth: PropTypes.bool.isRequired,\n  startCommunication: PropTypes.func.isRequired,\n};\n\nexport default UsersList;","function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import { createSelector } from \"reselect\";\n\nconst getUsersSelector = (state) => {\n  return state.usersPage.users;\n}\n\nexport const getUsers = createSelector(getUsersSelector, (users) => {\n  return users;\n});\nexport const getPagesSize = (state) => {\n  return state.usersPage.pagesSize;\n}\n\nexport const getTotalUsersCount = (state) => {\n  return state.usersPage.totalUsersCount;\n}\n\nexport const getCurrentPagestate = (state) => {\n  return state.usersPage.currentPage;\n}\n\nexport const getIsFetching = (state) => {\n  return state.usersPage.isFetching;\n}\n\nexport const getIsFetchingFollowOrUnfollowIdList = (state) => {\n  return state.usersPage.isFetchingFollowOrUnfollowIdList;\n}\n\nexport const getIsAuth = (state) => {\n  return state.auth.isAuth;\n}\n\nexport const getDefaultAvatarSrc = (state) => {\n  return state.usersPage.defaultAvatarSrc;\n}","import React, {useEffect} from \"react\";\nimport PropTypes from \"prop-types\";\nimport UsersList from \"./UsersList\";\nimport {connect} from \"react-redux\";\nimport {\n        getUsersSC,\n        unfollow, follow\n       } from '../../../redux/users-reducer';\nimport {getUsers, getPagesSize, getTotalUsersCount, \n        getIsFetching, getIsFetchingFollowOrUnfollowIdList, \n        getIsAuth, getDefaultAvatarSrc} from \"../../../redux/users-selectors\";\nimport {startCommunication} from \"../../../redux/dialogs-reducer\";\n\n\n\nconst UsersListContainer = (props) => {\n  const {currentPage, pagesSize, totalUsersCount, getUsersSC, users,\n         isFetching, isFetchingFollowOrUnfollowIdList, follow, \n         unfollow, defaultAvatarSrc, isAuth, startCommunication} = props;\n\n  useEffect(() => {\n    getUsersSC(currentPage, pagesSize);\n  }, [getUsersSC, currentPage, pagesSize]);\n  \n    return (<UsersList totalUsersCount={totalUsersCount}\n                       pagesSize={pagesSize}\n                       users={users}\n                       isFetching={isFetching}\n                       isFetchingFollowOrUnfollowIdList={isFetchingFollowOrUnfollowIdList} \n                       getUsers={getUsersSC}\n                       follow={follow} \n                       unfollow={unfollow} \n                       defaultAvatarSrc={defaultAvatarSrc}\n                       isAuth={isAuth}\n                       startCommunication={startCommunication} />); \n}\n\nUsersListContainer.propTypes = {\n  currentPage: PropTypes.number,\n  pagesSize: PropTypes.number,\n  totalUsersCount: PropTypes.number,\n  getUsersSC: PropTypes.func,\n  users: PropTypes.array,\n  isFetching: PropTypes.bool,\n  isFetchingFollowOrUnfollowIdList: PropTypes.array,\n  follow: PropTypes.func,\n  unfollow: PropTypes.func,\n  defaultAvatarSrc: PropTypes.string,\n  isAuth: PropTypes.bool,\n  startCommunication: PropTypes.func,\n}\n\nconst mapStateToProps = (state) => {\n  return {\n          users: getUsers(state),\n          pagesSize: getPagesSize(state),\n          totalUsersCount: getTotalUsersCount(state),\n          isFetching: getIsFetching(state),\n          isFetchingFollowOrUnfollowIdList: getIsFetchingFollowOrUnfollowIdList(state),\n          isAuth: getIsAuth(state),\n          defaultAvatarSrc: getDefaultAvatarSrc(state),\n         }\n}\n\nconst actionCreators = {\n  getUsersSC,\n  follow,\n  unfollow,\n  startCommunication,\n}\n\nexport default connect(mapStateToProps, actionCreators)(UsersListContainer);","import Users from \"../../components/Users\";\nexport default Users;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport style from \"./Users.module.scss\";\nimport UsersList from \"./UsersList\";\nimport { connect } from \"react-redux\";\n\nconst Users = (props) => {\n  const {isAuth} = props;\n\n    if (!isAuth) {\n      console.log(\"Пользователь анонимный, надо запретить добавлять в друзья и так далее\")\n    }\n    return (\n      <div className={style.UsersContainer}>\n        <UsersList />\n      </div>\n    );\n}\n\nUsers.propTypes = {\n  isAuth: PropTypes.bool,\n}\n\nlet mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n});\n\nexport default connect(mapStateToProps, null)(Users);","import UsersPage from \"./UsersPage\";\nexport default UsersPage;"],"sourceRoot":""}