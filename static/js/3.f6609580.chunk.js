(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{295:function(e,t,n){"use strict";var a=n(0),o=n.n(a);n(94);t.a=function(e){return o.a.createElement("div",null,o.a.createElement("h2",null,"\u0418\u0434\u0451\u0442 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440!"))}},296:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(95);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,o=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(c){o=!0,r=c}finally{try{a||null==l.return||l.return()}finally{if(o)throw r}}return n}}(e,t)||Object(a.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},297:function(e,t,n){e.exports={ProfileContainer:"Profile_ProfileContainer__2uJ-p",pictureAndDescriptionContainer:"Profile_pictureAndDescriptionContainer__OqIeT"}},298:function(e,t,n){e.exports={statusTextContainer:"Status_statusTextContainer__u-_gA",statusText:"Status_statusText__1QUlp",inputStatusText:"Status_inputStatusText__3eVHT"}},299:function(e,t,n){e.exports={image:"ProfileDescription_image__Asl6Y"}},300:function(e,t,n){e.exports={image:"ProfilePicture_image__3elqO",profilePictureContainer:"ProfilePicture_profilePictureContainer__I-Z-i",profilePictureUpload:"ProfilePicture_profilePictureUpload__3wCJ-",profilePictureUploadBlock:"ProfilePicture_profilePictureUploadBlock__3__1R"}},301:function(e,t,n){e.exports={PostContainer:"Post_PostContainer__32T4K",PostContentImg:"Post_PostContentImg__2pdwg",PostCountLikes:"Post_PostCountLikes__N1816",image:"Post_image__2kv_N"}},309:function(e,t,n){"use strict";n.r(t);var a=n(26),o=n(27),r=n(29),i=n(28),l=n(0),c=n.n(l),u=n(297),s=n.n(u),f=n(295),p=n(299),m=n.n(p),d=function(e){return c.a.createElement("div",{className:m.a.ProfileInfoContainer},c.a.createElement("h1",null,e.profile.fullName))},P=n(296),g=n(298),b=n.n(g),h=function(e){var t=e.lookingAtMyProfile,n=e.activateEditMode,a=e.editMode,o=e.deActivateEditModeEnterOrEsc,r=e.onStatusChange,i=e.deActivateEditMode,l=e.statusText;n=t?n:function(){};var u=t?b.a.statusText:"";return c.a.createElement("div",{className:b.a.statusTextContainer},a&&c.a.createElement("input",{className:b.a.inputStatusText,onFocus:function(e){return e.target.select()},onKeyDown:function(e){return o(e)},onBlur:i,onChange:function(e){return r(e.target.value)},type:"text",autoFocus:!0,value:l}),!a&&c.a.createElement("span",{className:u,onClick:n},l))},E=n(6),_=n(13),v=n(32),y=Object(E.d)(Object(_.b)((function(e){return{statusGlobalState:e.profilePage.statusText,defaultStatusText:e.profilePage.defaultStatusText,lookingAtMyProfile:e.profilePage.lookingAtMyProfile}}),{updateNewStatusText:v.g}))((function(e){var t=e.defaultStatusText,n=e.statusGlobalState,a=e.updateNewStatusText,o=e.lookingAtMyProfile,r=Object(l.useState)(!1),i=Object(P.a)(r,2),u=i[0],s=i[1],f=Object(l.useState)(n),p=Object(P.a)(f,2),m=p[0],d=p[1],g=Object(l.useState)(n),b=Object(P.a)(g,2),E=b[0],_=b[1];return Object(l.useEffect)((function(){_(n),d(n)}),[n]),c.a.createElement(h,{editMode:u,activateEditMode:function(){s(!0)},deActivateEditMode:function(){s(!1),a(""!==E?E:t),""===E&&(_(t),d(t))},deActivateEditModeEnterOrEsc:function(e){13===e.keyCode&&(s(!1),a(""!==E?E:t),""===E&&(_(t),d(t)));27===e.keyCode&&(s(!1),_(m))},onStatusChange:function(e){_(e)},statusText:E,lookingAtMyProfile:o})})),S=n(300),k=n.n(S),C=function(e){var t=e.photos,n=e.onSubmit,a=e.fileInputRef,o=e.lookingAtMyProfile;return c.a.createElement("div",{className:k.a.profilePictureContainer},c.a.createElement("img",{className:k.a.image,src:t.large}),o&&c.a.createElement("form",{onSubmit:n,className:k.a.profilePictureUpload},c.a.createElement("div",{className:k.a.profilePictureUploadBlock},c.a.createElement("input",{type:"file",ref:a}),c.a.createElement("button",{type:"submit"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b"))))},O=c.a.createRef(),j=Object(E.d)(Object(_.b)((function(e){return{photos:e.profilePage.profile.photos,isFetching:e.profilePage.isFetching,fileInputRef:O,lookingAtMyProfile:e.profilePage.lookingAtMyProfile}}),{updateProfilePicture:v.h}))((function(e){var t=e.photos,n=e.updateProfilePicture,a=e.fileInputRef,o=e.lookingAtMyProfile;return c.a.createElement(C,{photos:t,onSubmit:function(e){e.preventDefault(),n(a.current)},fileInputRef:a,lookingAtMyProfile:o})})),x=n(301),M=n.n(x),A=function(e){return c.a.createElement("div",{className:M.a.PostContainer},c.a.createElement("div",{className:M.a.PostContentImg},c.a.createElement("img",{className:M.a.image,width:"50",height:"50",src:e.imgSrc}),c.a.createElement("p",null,e.content)),c.a.createElement("p",{className:M.a.PostCountLikes},e.countLikes))},T=n(128),N=n(129),I=n(74),w=n(66),F=Object(w.a)(10),L=Object(N.a)({form:"profile"})((function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit},c.a.createElement("div",null,c.a.createElement(T.a,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u043f\u043e\u0441\u0442",name:"post",component:I.c,validate:[w.b,F]})),c.a.createElement("button",null,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"))})),D=function(e){var t=e.posts.map((function(e){return c.a.createElement(A,{content:e.content,imgSrc:e.imgSrc,countLikes:e.countLikes})}));return c.a.createElement("div",null,c.a.createElement("h3",null,"My posts"),t,c.a.createElement(L,{onSubmit:function(t){e.addPost(t.post)}}))},U=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return c.a.createElement(D,{posts:this.props.posts,addPost:this.props.addPost})}}]),n}(c.a.Component),R=Object(_.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:v.a})(U),B=function(e){var t=e.profile;return e.isFetching?c.a.createElement(f.a,null):t?c.a.createElement("div",{className:s.a.ProfileContainer},c.a.createElement("div",{className:s.a.pictureAndDescriptionContainer},c.a.createElement(j,null),c.a.createElement(d,{profile:t})),c.a.createElement(y,null),c.a.createElement(R,{profile:t})):c.a.createElement(c.a.Fragment,null)},J=n(10),q=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getProfile(this.props.match.params.userId),this.props.getStatus(this.props.match.params.userId),this.props.match.params.userId?this.props.notLookingMyProfile():this.props.lookingMyProfile()}},{key:"render",value:function(){return c.a.createElement(B,Object.assign({},this.props,{profile:this.props.profile}))}}]),n}(c.a.Component);t.default=Object(E.d)(Object(_.b)((function(e){return{profile:e.profilePage.profile,isFetching:e.profilePage.isFetching}}),{getProfile:v.c,lookingMyProfile:v.e,notLookingMyProfile:v.f,getStatus:v.d}),J.f)(q)}}]);
//# sourceMappingURL=3.f6609580.chunk.js.map