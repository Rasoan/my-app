(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{296:function(e,t,n){"use strict";var a=n(0),r=n.n(a);n(84);t.a=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"\u0418\u0434\u0451\u0442 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440!"))}},299:function(e,t,n){e.exports={ProfileContainer:"Profile_ProfileContainer__2uJ-p",pictureAndDescriptionContainer:"Profile_pictureAndDescriptionContainer__OqIeT"}},300:function(e,t,n){e.exports={image:"ProfileDescription_image__Asl6Y"}},301:function(e,t,n){e.exports={statusTextContainer:"Status_statusTextContainer__u-_gA",statusText:"Status_statusText__1QUlp",inputStatusText:"Status_inputStatusText__3eVHT"}},308:function(e,t,n){e.exports={image:"ProfilePicture_image__3elqO",profilePictureContainer:"ProfilePicture_profilePictureContainer__I-Z-i",profilePictureUpload:"ProfilePicture_profilePictureUpload__3wCJ-",profilePictureUploadBlock:"ProfilePicture_profilePictureUploadBlock__3__1R"}},309:function(e,t,n){e.exports={PostContainer:"Post_PostContainer__32T4K",PostContentImg:"Post_PostContentImg__2pdwg",PostCountLikes:"Post_PostCountLikes__N1816",image:"Post_image__2kv_N"}},347:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(299),o=n.n(l),c=n(296),i=n(19),u=n(3),s=n.n(u),m=n(8),p=n(300),f=n.n(p),d=n(1),E=n(39),P=function(e){var t=e.handleProfile,n=e.profile,a=Object(E.d)({defaultValues:Object(d.a)({},n)}),l=a.register,o=a.handleSubmit;return r.a.createElement("form",{onSubmit:o(t),className:f.a.ProfileInfoContainer},r.a.createElement("button",null,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement("div",null,r.a.createElement("b",null,"Fullname"),r.a.createElement("input",Object.assign({type:"text"},l("fullName")))),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Looking for a job")),r.a.createElement("input",Object.assign({type:"checkbox"},l("lookingForAJob")))),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Looking for a job Description")),r.a.createElement("textarea",l("lookingForAJobDescription"))),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"About me:")),r.a.createElement("textarea",l("aboutMe"))),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Contacts:")," ",r.a.createElement("ul",null,Object.keys(n.contacts).map((function(e){return r.a.createElement("li",{key:e},r.a.createElement("p",null,r.a.createElement("b",null,e)),r.a.createElement("input",l("contacts.".concat(e),{pattern:new RegExp("[http]")})))}))))))},b=function(e){var t=e.profile,n=e.toggleSetEditMode,a=e.controlPanels;return r.a.createElement("div",{className:f.a.ProfileInfoContainer},a&&r.a.createElement("button",{onClick:n},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Fullname:")," ",t.fullName),r.a.createElement("p",null,r.a.createElement("b",null,"Looking for a job:")," ",t.lookingForAJob?"Yes":"No")),t.lookingForAJob&&r.a.createElement("div",null,r.a.createElement("p",null,t.lookingForAJobDescription)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"About me:")," ",t.aboutMe)),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Contacts:")," ",r.a.createElement("ul",null,Object.keys(t.contacts).map((function(e){return r.a.createElement("li",{key:e},r.a.createElement(g,{contactTitle:e,contactValue:t.contacts[e]}))}))))))},g=function(e){var t=e.contactTitle,n=e.contactValue;return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,t,":")," ",n))},v=function(e){var t=e.profile,n=e.toggleSetEditMode,a=e.editMode,l=e.saveProfile,o=e.controlPanels,c=function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,a?r.a.createElement(P,{handleProfile:c,profile:t,initialValues:t,toggleSetEditMode:n}):r.a.createElement(b,{profile:t,toggleSetEditMode:n,controlPanels:o}))},h=n(25),_=n(32),O=n(18),j=Object(O.d)(Object(h.b)((function(e){return{profile:e.profilePage.profile,controlPanels:e.app.controlPanels}}),{saveProfile:_.g}))((function(e){var t=e.profile,n=e.saveProfile,l=e.controlPanels,o=Object(a.useState)(!1),c=Object(i.a)(o,2),u=c[0],s=c[1];return r.a.createElement(v,{profile:t,toggleSetEditMode:function(){s(!u)},editMode:u,saveProfile:n,controlPanels:l})})),S=n(301),k=n.n(S),C=function(e){var t=e.controlPanels,n=e.activateEditMode,a=e.editMode,l=e.deActivateEditModeEnterOrEsc,o=e.onStatusChange,c=e.deActivateEditMode,i=e.statusText;n=t?n:function(){};var u=t?k.a.statusText:"";return r.a.createElement("div",{className:k.a.statusTextContainer},a&&r.a.createElement("input",{className:k.a.inputStatusText,onFocus:function(e){return e.target.select()},onKeyDown:function(e){return l(e)},onBlur:c,onChange:function(e){return o(e.target.value)},type:"text",autoFocus:!0,value:i}),!a&&r.a.createElement("span",{className:u,onClick:n},i))},x=Object(O.d)(Object(h.b)((function(e){return{statusGlobalState:e.profilePage.statusText,defaultStatusText:e.profilePage.defaultStatusText,controlPanels:e.app.controlPanels}}),{updateNewStatusText:_.h}))((function(e){var t=e.defaultStatusText,n=e.statusGlobalState,l=e.updateNewStatusText,o=e.controlPanels,c=Object(a.useState)(!1),u=Object(i.a)(c,2),s=u[0],m=u[1],p=Object(a.useState)(n),f=Object(i.a)(p,2),d=f[0],E=f[1],P=Object(a.useState)(n),b=Object(i.a)(P,2),g=b[0],v=b[1];return Object(a.useEffect)((function(){v(n),E(n)}),[n]),r.a.createElement(C,{editMode:s,activateEditMode:function(){m(!0)},deActivateEditMode:function(){m(!1),l(""!==g?g:t),""===g&&(v(t),E(t))},deActivateEditModeEnterOrEsc:function(e){13===e.keyCode&&(m(!1),l(""!==g?g:t),""===g&&(v(t),E(t)));27===e.keyCode&&(m(!1),v(d))},onStatusChange:function(e){v(e)},statusText:g,controlPanels:o})})),N=n(308),T=n.n(N),y=function(e){var t=e.photos,n=e.onSubmit,a=e.fileInputRef,l=e.controlPanels;return r.a.createElement("div",{className:T.a.profilePictureContainer},r.a.createElement("img",{className:T.a.image,src:t.large}),l&&r.a.createElement("form",{onSubmit:n,className:T.a.profilePictureUpload},r.a.createElement("div",{className:T.a.profilePictureUploadBlock},r.a.createElement("input",{type:"file",ref:a}),r.a.createElement("button",{type:"submit"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b"))))},M=r.a.createRef(),F=Object(O.d)(Object(h.b)((function(e){return{photos:e.profilePage.profile.photos,isFetching:e.profilePage.isFetching,fileInputRef:M,controlPanels:e.app.controlPanels}}),{updateProfilePicture:_.i}))((function(e){var t=e.photos,n=e.updateProfilePicture,a=e.fileInputRef,l=e.controlPanels;return r.a.createElement(y,{photos:t,onSubmit:function(e){e.preventDefault(),n(a.current)},fileInputRef:a,controlPanels:l})})),I=n(6),A=n(7),w=n(14),L=n(15),D=n(309),J=n.n(D),U=function(e){return r.a.createElement("div",{className:J.a.PostContainer},r.a.createElement("div",{className:J.a.PostContentImg},r.a.createElement("img",{className:J.a.image,width:"50",height:"50",src:e.imgSrc}),r.a.createElement("p",null,e.content)),r.a.createElement("p",{className:J.a.PostCountLikes},e.countLikes))},R=n(147),V=n(148),B=n(346),q=n(50),G=n.n(q),K=function(e){var t=e.input,n=e.meta,a=Object(B.a)(e,["input","meta"]),l=n.touched&&!n.error,o=n.error&&n.touched;n.touched;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("textarea",Object.assign({},t,a,{className:l?G.a.correct:o?G.a.inCorrect:G.a.default}))),o&&r.a.createElement("span",{className:G.a.promptText},n.error))},Y=function(e){if(!e)return"\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435!"},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.length>e)return"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432!")}}(10),Q=Object(V.a)({form:"profile"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(R.a,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u043f\u043e\u0441\u0442",name:"post",component:K,validate:[Y,H]})),r.a.createElement("button",null,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"))})),Z=function(e){var t=e.posts.map((function(e){return r.a.createElement(U,{content:e.content,imgSrc:e.imgSrc,countLikes:e.countLikes})}));return r.a.createElement("div",null,r.a.createElement("h3",null,"My posts"),t,r.a.createElement(Q,{onSubmit:function(t){e.addPost(t.post)}}))},z=function(e){Object(w.a)(n,e);var t=Object(L.a)(n);function n(){return Object(I.a)(this,n),t.apply(this,arguments)}return Object(A.a)(n,[{key:"render",value:function(){return r.a.createElement(Z,{posts:this.props.posts,addPost:this.props.addPost})}}]),n}(r.a.Component),W=Object(h.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:_.a})(z),X=function(e){var t=e.profile;return e.isFetching?r.a.createElement(c.a,null):t?r.a.createElement("div",{className:o.a.ProfileContainer},r.a.createElement("div",{className:o.a.pictureAndDescriptionContainer},r.a.createElement(F,null),r.a.createElement(j,null)),r.a.createElement(x,null),r.a.createElement(W,{profile:t})):r.a.createElement(r.a.Fragment,null)},$=n(60),ee=n(12),te=Object(O.d)(Object(h.b)((function(e){return{profile:e.profilePage.profile,isFetching:e.profilePage.isFetching,myId:e.auth.userId,logoutFetching:e.auth.logoutFetching}}),{getProfile:_.c,lookingMyProfile:_.e,notLookingMyProfile:_.f,getStatus:_.d,checkUserOrOwner:$.a}),ee.g)((function(e){var t=e.myId,n=e.match,l=e.profile,o=e.logoutFetching,c=e.getProfile,i=e.getStatus,u=e.checkUserOrOwner;return Object(a.useEffect)((function(){o||(c(n.params.userId),i(n.params.userId),u(n.params.userId))}),[t,o]),r.a.createElement(X,Object.assign({},e,{profile:l}))}));t.default=te}}]);
//# sourceMappingURL=4.0a3a3e4b.chunk.js.map