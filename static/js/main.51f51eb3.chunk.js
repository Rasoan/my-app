(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{128:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return m}));var a=n(8),r=n.n(a),c=n(13),o=n(12),i=n(5),u=n(18),s=n(70),l={messages:[],dialogsData:[],dialogs:[],interlocutors:[]};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":return Object(i.a)(Object(i.a)({},e),{},{messages:[].concat(Object(o.a)(e.messages),[{id:6,message:t.newMessage}]),newMessageBody:""});case"START_COMMUNICATION":return Object(i.a)(Object(i.a)({},e),{},{interlocutors:[].concat(Object(o.a)(e.interlocutors),[t.interlocutor])});case"GET_ALL_DIALOGS":return Object(i.a)(Object(i.a)({},e),{},{dialogs:Object(o.a)(t.dialogs.map((function(e){return e.photos.small||(e.photos.small=s.a),e.photos.large||(e.photos.large=s.a),e})))});case"GET_MESSAGES":return Object(i.a)(Object(i.a)({},e),{},{messages:t.messages});default:return e}};var p=function(e){return function(t){t({type:"SEND-MESSAGE",newMessage:e})}},f=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.startCommunication(e);case 2:a=t.sent,n({type:"START_COMMUNICATION",interlocutor:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.getAllDialogs();case 2:n=e.sent,a=n.data,t({type:"GET_ALL_DIALOGS",dialogs:a});case 5:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()}},129:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return p}));var a=n(8),r=n.n(a),c=n(13),o=n(5),i=n(18),u={messages:[],totalCount:null,error:null},s=function(e){return{type:"GET_MESSAGES",messages:e}},l=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.c.sendMessage(e,t);case 2:c=n.sent,a({type:"SEND-MESSAGE",newMessage:c});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return function(){var a=Object(c.a)(r.a.mark((function a(c){var o,u;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.c.getMessages(e,t,n);case 2:o=a.sent,u=s(o.data),c(u);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":return Object(o.a)({},e);case"GET_MESSAGES":return Object(o.a)(Object(o.a)({},e),{},{messages:t.messages.items,totalCount:t.messages.totalCount});default:return e}}},130:function(e,t,n){"use strict";n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return b}));var a=n(8),r=n.n(a),c=n(13),o=n(12),i=n(5),u=n(18),s=n(70),l={users:[],defaultAvatarSrc:s.a,pagesSize:5,totalUsersCount:0,isFetching:!1,isFetchingFollowOrUnfollowIdList:[]};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERS":return Object(i.a)(Object(i.a)({},e),{},{users:Object(o.a)(t.users)});case"FOLLOW":return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id&&(e.followed=!0),e}))});case"UNFOLLOW":return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id&&(e.followed=!1),e}))});case"SET_TOTAL_USERS_COUNT":return Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return t.isFetching?Object(i.a)(Object(i.a)({},e),{},{isFetching:!0}):Object(i.a)(Object(i.a)({},e),{},{isFetching:!1});case"IS_FETCHING_FOLLOW_OR_UNFOLLOW_START":return Object(i.a)(Object(i.a)({},e),{},{isFetchingFollowOrUnfollowIdList:[].concat(Object(o.a)(e.isFetchingFollowOrUnfollowIdList),[t.id])});case"IS_FETCHING_FOLLOW_OR_UNFOLLOW_END":var n=e.isFetchingFollowOrUnfollowIdList.filter((function(e){return e!==t.id}));return Object(i.a)(Object(i.a)({},e),{},{isFetchingFollowOrUnfollowIdList:n});default:return e}};var p=function(e){return{type:"FOLLOW",id:e}},f=function(e){return{type:"UNFOLLOW",id:e}},m=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},d=function(e){return{type:"IS_FETCHING_FOLLOW_OR_UNFOLLOW_START",id:e}},g=function(e){return{type:"IS_FETCHING_FOLLOW_OR_UNFOLLOW_END",id:e}},E=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c,o;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=m(!0),a(c),n.next=4,u.f.getUsers(e,t);case 4:200===(o=n.sent).status&&(i=o.data.items,a(c={type:"SET_USERS",users:i}),r=o.data.totalCount,a(c={type:"SET_TOTAL_USERS_COUNT",totalUsersCount:r}),c=m(!1),a(c));case 6:case"end":return n.stop()}var r,i}),n)})));return function(e){return n.apply(this,arguments)}}()},h=function(){var e=Object(c.a)(r.a.mark((function e(t,n,a,c){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=d(n),t(o),e.next=4,a(n);case 4:0===e.sent.data.resultCode&&(o=c(n),t(o)),o=g(n),t(o);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),O=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(n,e,u.f.follow.bind(u.f),p);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(n,e,u.f.unfollow.bind(u.f),f);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},172:function(e,t,n){e.exports={container:"App_container__X7H-1"}},18:function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var a=n(171),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0",headers:{"API-KEY":"fd622230-6210-4ef3-a457-276f95f589d0"}}),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("/users?page=".concat(e,"&count=").concat(t))},follow:function(e){return r.post("/follow/"+e)},unfollow:function(e){return r.delete("/follow/"+e)}},o={getProfile:function(e){return r.get("/profile/"+e)},getStatus:function(e){return r.get("/profile/status/"+e).then((function(e){return e}))},updateStatus:function(e){return r.put("profile/status",{status:e})},updateProfilePicture:function(e){var t=new FormData;return t.append("image",e.files[0]),r.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return r.put("/profile",e)}},i={getAuthMe:function(){return r.get("auth/me")},signIn:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("/auth/login",{email:e,password:t,rememberMe:n,captcha:a})},logOut:function(){return r.delete("/auth/login")},getCaptcha:function(){return r.get("/security/get-captcha-url")}},u={getCaptchaUrl:function(){return r.get("/security/get-captcha-url")}},s={startCommunication:function(e){return r.put("/dialogs/"+e)},getAllDialogs:function(){return r.get("/dialogs")}},l={getMessages:function(e,t,n){return r.get("/dialogs/".concat(e,"/messages?page=").concat(t,"&count=").concat(n))},sendMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r.post("/dialogs/".concat(e,"/messages"),t)},messageViewed:function(e){return r.get("/dialogs/messages/".concat(e,"/viewed"))},deleteOnlyYouMessage:function(e){return r.delete("/dialogs/messages/".concat(e))},addMessageSpam:function(e){return r.post("/dialogs/messages/".concat(e,"/spam"))},restoreYourMessage:function(e){return r.put("/dialogs/messages/".concat(e,"/restore"))},return_messages_newest_than_date:function(e,t){return r.put("/dialogs/".concat(e,"/messages/new?newerThen=").concat(t))},getNewMessages:function(){return r.get("/dialogs/messages/new/count")}}},22:function(e,t,n){},231:function(e,t,n){e.exports=n(362)},258:function(e,t,n){e.exports=n.p+"static/media/signIn.66b9eed0.png"},259:function(e,t,n){e.exports=n.p+"static/media/signUp.e6f42918.png"},260:function(e,t,n){e.exports=n.p+"static/media/logOut.a4e6b624.png"},359:function(e,t,n){e.exports=n.p+"static/media/avatar.d48a8973.png"},360:function(e,t,n){e.exports={HeaderContainer:"Header_HeaderContainer__3RWNQ"}},362:function(e,t,n){"use strict";n.r(t);var a=n(36),r=n(8),c=n.n(r),o=n(13),i=n(5),u=n(119),s=n(18),l=n(49),p={userId:l.a,isAuth:!1,email:null,login:null,captchaUrl:"",signInImg:l.c,signUpImg:l.d,logOutImg:l.b},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(i.a)(Object(i.a)(Object(i.a)({},e),t.data),{},{isAuth:t.isAuth});case"SIGN_IN":return Object(i.a)(Object(i.a)({},e),{},{isAuth:!0});case"SIGN_UP":return Object(i.a)(Object(i.a)({},e),{},{isAuth:t.isAuth});case"LOG_OUT":return Object(i.a)(Object(i.a)({},e),{},{isAuth:!1});case"GET_CAPTCHA":return Object(i.a)(Object(i.a)({},e),{},{captchaUrl:t.captchaUrl});default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:"SET_USER_DATA",data:{userId:e,email:t,login:n},isAuth:a}},d=function(e){return{type:"GET_CAPTCHA",captchaUrl:e}},g=function(){return function(){var e=Object(o.a)(c.a.mark((function e(t){var n,a,r,o,i,u,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.getAuthMe();case 2:return 0===(n=e.sent).data.resultCode?(a=n.data.data,r=a.id,o=a.email,i=a.login,u=m(r,o,i,!0),t(u)):2===n.data.resultCode&&(p=m(l.a),t(p)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=n(44),h=n(0),O=n.n(h),b=n(172),v=n.n(b),T=n(19),_=function(){return O.a.createElement("div",null,O.a.createElement("h2",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."))},j=function(e){return function(t){return O.a.createElement(O.a.Suspense,{fallback:O.a.createElement(_,null)},O.a.createElement(e,t))}},w=n(30),y=n(29),x=n(90),S=n.n(x),N=n(54),A=n(170),I=n(107),L=n(419),P=n(407),C=n(423),F=n(409),R=n(403),U=n(410),k=n(83),G=n(420),M=Object(R.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),D=function(e){var t,n=M(),a=e.handleRegistration,r=e.captchaUrl,c=I.a().shape({login:I.b().required("\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f.").min(2,"\u041c\u0438\u043d\u0438\u0443\u043c 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430!").max(50,"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 50 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432").matches(/[@]/,"\u0421\u0438\u043c\u0432\u043e\u043b @ \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d"),password:I.b().required("\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f.").min(2,"\u041c\u0438\u043d\u0438\u0443\u043c 2 \u0441\u0438\u043c\u0432\u043e\u043b\u0430!").max(50,"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 50 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),o=Object(N.e)({mode:"onBlur",resolver:Object(A.a)(c)}),i=o.register,u=o.formState,s=o.handleSubmit,l=o.control,p=u.errors,f=u.touchedFields;return O.a.createElement("form",{onSubmit:s(a),className:n.form},O.a.createElement("div",null,O.a.createElement(L.a,Object.assign({variant:"outlined",margin:"normal",fullWidth:!0,label:"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b",autoComplete:"email",autoFocus:!0,placeholder:"art@gmail.com",type:"text",className:p.login&&S.a.inCorrect||f.login&&S.a.correct},i("login"))),p.login&&O.a.createElement("p",null,p.login.message)),O.a.createElement("div",null,O.a.createElement(L.a,Object.assign({variant:"outlined",margin:"normal",fullWidth:!0,label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",autoComplete:"current-password",placeholder:"LoG234HH",className:p.password&&S.a.inCorrect||f.password&&S.a.correct},i("password"))),p.password&&O.a.createElement("p",null,p.password.message)),O.a.createElement("div",null,O.a.createElement(N.a,{name:"rememberMe",defaultValue:!1,control:l,rules:{required:!0},render:function(e){var t=e.field;return O.a.createElement(P.a,Object.assign({},t,{control:O.a.createElement(C.a,null),label:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"}))}})),O.a.createElement(F.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit},"\u0417\u0430\u043b\u043e\u0433\u0438\u043d\u0438\u0442\u044c\u0441\u044f"),O.a.createElement("div",null,r&&O.a.createElement("img",{src:r,alt:"captcha"}),r&&O.a.createElement("div",null,O.a.createElement("input",Object.assign({type:"text"},i("captcha"))))),O.a.createElement(G.a,{display:"flex",flexDirection:"row-reverse"},O.a.createElement(U.a,{component:y.b,to:"/profile"},"\u0412\u043e\u0439\u0442\u0438 \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u043c")),O.a.createElement(G.a,{mt:5},O.a.createElement(k.a,(t={color:"inherit",variant:"body2"},Object(w.a)(t,"color","textSecondary"),Object(w.a)(t,"align","center"),t),"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u0442\u044c ",O.a.createElement("br",null),(new Date).getFullYear())))},H={signIn:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0;return function(){var r=Object(o.a)(c.a.mark((function r(o){var i,l,p,f;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.a.signIn(e,t,n,a);case 2:if(0!==(i=r.sent).data.resultCode){r.next=8;break}l=g(),o(l),r.next=17;break;case 8:return p=g(),o(p),p=Object(u.a)("authorization",{_error:i.data.messages[0]}),o(p),r.next=14,s.e.getCaptchaUrl();case 14:f=r.sent,p=d(f.data.url),o(p);case 17:return r.abrupt("return",i);case 18:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},z=Object(a.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),H)((function(e){var t=e.signIn,n=e.isAuth,a=e.captchaUrl;return n?O.a.createElement(T.a,{to:"/profile"}):O.a.createElement(D,{handleRegistration:function(e){t(e.login,e.password,e.rememberMe,e.captcha)},captchaUrl:a})})),W=n(425),q=n(412),V=n(365),B=n(411),J=n(176),X=n.n(J),Y=Object(R.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),K=function(){var e=Y();return O.a.createElement(B.a,{container:!0,component:"main",className:e.root},O.a.createElement(q.a,null),O.a.createElement(B.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),O.a.createElement(B.a,{item:!0,xs:12,sm:8,md:5,component:V.a,elevation:6,square:!0},O.a.createElement("div",{className:e.paper},O.a.createElement(W.a,{className:e.avatar},O.a.createElement(X.a,null)),O.a.createElement(k.a,{component:"h1",variant:"h5"},"\u0412\u0445\u043e\u0434"),O.a.createElement(z,null))))},Q=(n(22),"/"),Z="/dialogs",$="/messages",ee="/profile",te="/users",ne="/authorization",ae="/my-app",re="*",ce=n(415),oe=n(424),ie=n(422),ue=n(123),se=n.n(ue),le=n(406),pe=n(366),fe=n(413),me=n(414),de=n(124),ge=n.n(de),Ee=n(25),he=Object(R.a)((function(e){return{root:{display:"flex"},drawer:Object(w.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(w.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),toolbar:Object(i.a)(Object(i.a)({},e.mixins.toolbar),{},{minHeight:"0 !important",height:"0 !important"}),toolbarMobile:{marginTop:"120px"},drawerPaper:{width:240},drawerPaperLarge:{position:"static"},drawerPaperMobile:{},content:{flexGrow:1,padding:e.spacing(3)},test:{zIndex:"1 !important"}}})),Oe=function(e){e.classes;var t=e.classToolbar;return O.a.createElement("div",null,O.a.createElement("div",{className:t}),O.a.createElement(le.a,null,["Inbox","Starred","Send email","Drafts"].map((function(e,t){return O.a.createElement(pe.a,{button:!0,key:e},O.a.createElement(fe.a,null,t%2===0?O.a.createElement(se.a,null):O.a.createElement(ge.a,null)),O.a.createElement(me.a,{primary:e}))}))),O.a.createElement(ce.a,null),O.a.createElement(le.a,null,["All mail","Trash","Spam"].map((function(e,t){return O.a.createElement(pe.a,{button:!0,key:e},O.a.createElement(fe.a,null,t%2===0?O.a.createElement(se.a,null):O.a.createElement(ge.a,null)),O.a.createElement(me.a,{primary:e}))}))))},be=function(e){e.clickProfileLink;var t=e.navigationPanelVisibility,n=e.toggleNav,a=e.window,r=he(),c=Object(Ee.a)(),o=void 0!==a?function(){return a().document.body}:void 0;return O.a.createElement("div",{className:r.test},O.a.createElement("div",{className:r.root},O.a.createElement(q.a,null),O.a.createElement("nav",{className:r.drawer,"aria-label":"mailbox folders"},O.a.createElement(ie.a,{smUp:!0,implementation:"css"},O.a.createElement(oe.a,{container:o,variant:"temporary",anchor:"rtl"===c.direction?"right":"left",open:t,classes:{paper:r.drawerPaper,root:r.test,modal:r.test},ModalProps:{keepMounted:!0,onEscapeKeyDown:n,onBackdropClick:n}},O.a.createElement(Oe,{classes:r,classToolbar:"".concat(r.toolbar,"  ").concat(r.toolbarMobile)}))),O.a.createElement(ie.a,{xsDown:!0,implementation:"css"},O.a.createElement(oe.a,{classes:{paper:"".concat(r.drawerPaper," ").concat(r.drawerPaperLarge)},variant:"permanent",open:t},O.a.createElement(Oe,{classes:r,classToolbar:r.toolbar}))))))},ve=n(91),Te={getProfile:ve.c,refreshRequests:E.d,toggleNav:E.e},_e=Object(a.b)((function(e){return{redrawToProfileComponent:e.profilePage.redrawToProfileComponent,navigationPanelVisibility:e.app.navigationPanelVisibility}}),Te)((function(e){var t=e.refreshRequests,n=e.navigationPanelVisibility,a=e.toggleNav;return O.a.createElement(O.a.Fragment,null,O.a.createElement(be,{clickProfileLink:function(){t()},navigationPanelVisibility:n,toggleNav:a}))})),je=(n(360),n(28)),we=n(181),ye=n(416),xe=n(125),Se=n.n(xe),Ne=n(177),Ae=n.n(Ne),Ie=Object(R.a)((function(e){return{root:{color:"#3f51b5"},exit:{textTransform:"none",textAlign:"center",width:"100%"},login:{textTransform:"none",textAlign:"center",width:"100%"},auth:{textTransform:"none",textAlign:"center",width:"100%"},avatar:{marginRight:"5px"},mainButton:{width:"min-content",margin:"0 10px 0 auto","&:hover":{textDecoration:"none"}}}})),Le=function(e){var t=e.isAuth,n=e.authorizationInfo,a=e.logOut,r=e.photos,c=Ie(e),o=O.a.useState(null),i=Object(je.a)(o,2),u=i[0],s=i[1],l=function(){s(null)};return O.a.createElement(O.a.Fragment,null,t&&O.a.createElement(O.a.Fragment,null,O.a.createElement(F.a,{className:c.mainButton,onClick:function(e){s(e.currentTarget)}},O.a.createElement(W.a,{className:c.avatar,alt:"User",src:r&&r.small}),O.a.createElement(k.a,{className:c.root+" "+c.login,variantMapping:F.a},n.login)),O.a.createElement(we.a,{id:"simple-menu",anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:l},O.a.createElement(le.a,null,O.a.createElement(pe.a,null,O.a.createElement(fe.a,null,O.a.createElement(Se.a,null)),O.a.createElement(me.a,{primary:"\u0410\u0439\u0434\u0438: "+n.userId})),O.a.createElement(pe.a,null,O.a.createElement(fe.a,null,O.a.createElement(Ae.a,null)),O.a.createElement(me.a,{primary:"\u041f\u043e\u0447\u0442\u0430: "+n.email}))),O.a.createElement(ye.a,{onClick:function(){l(),a()}},O.a.createElement(k.a,{className:c.root+" "+c.exit},"\u0412\u044b\u0439\u0442\u0438")))),!t&&O.a.createElement(O.a.Fragment,null,O.a.createElement(F.a,{className:c.mainButton,component:y.b,to:"/authorization"},O.a.createElement(Se.a,{display:"flex",className:"".concat(c.root," ").concat(c.avatar)}),O.a.createElement(k.a,{className:c.root+" "+c.auth},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"))))},Pe={logOut:function(){return function(){var e=Object(o.a)(c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.logOut();case 2:return 0===(a=e.sent).data.resultCode&&(r=m(l.a),t(r)),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},authMe:g},Ce=Object(a.b)((function(e){return{isAuth:e.auth.isAuth,photos:e.profilePage.profile.photos,authorizationInfo:{userId:e.auth.userId,email:e.auth.email,login:e.auth.login}}}),Pe)(Le),Fe=n(417),Re=n(418),Ue=n(408),ke=n(118),Ge=n.n(ke),Me=Object(R.a)((function(e){return{appBar:{position:"relative",zIndex:2,display:"flex",justifyContent:"center",minHeight:"100px"},menuButton:Object(w.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"})}})),De=function(e){var t=e.toggleNav,n=Me();return O.a.createElement(O.a.Fragment,null,O.a.createElement(Fe.a,{className:n.appBar,color:"default",position:"static"},O.a.createElement(Re.a,null,O.a.createElement(Ue.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:t,className:n.menuButton},O.a.createElement(Ge.a,null)),O.a.createElement(k.a,{variant:"h6",noWrap:!0},"Responsive drawer")),O.a.createElement(Ce,null)))},He={toggleNav:E.e},ze=Object(a.b)((function(e){return{toggleNav:e.app.toggleNav}}),He)(De),We=O.a.lazy((function(){return n.e(4).then(n.bind(null,439))})),qe=O.a.lazy((function(){return n.e(5).then(n.bind(null,441))})),Ve=O.a.lazy((function(){return n.e(3).then(n.bind(null,440))})),Be=O.a.lazy((function(){return n.e(6).then(n.bind(null,442))})),Je=function(){return O.a.createElement(O.a.Fragment,null,O.a.createElement(ze,null),O.a.createElement("div",{className:v.a.container},O.a.createElement(_e,null),O.a.createElement(T.d,null,O.a.createElement(T.b,{exact:!0,path:Q,render:function(){return O.a.createElement(T.a,{to:"/profile"})}}),O.a.createElement(T.b,{path:Z,render:j(qe)}),O.a.createElement(T.b,{path:$+"/:userId?",render:j(Be)}),O.a.createElement(T.b,{path:ee+"/:userId?",render:j(We)}),O.a.createElement(T.b,{path:ae+"/:userId?",render:j(We)}),O.a.createElement(T.b,{path:te,render:j(Ve)}),O.a.createElement(T.b,{path:re,render:function(){return O.a.createElement("h2",null,"Error 404, not found!")}}))))},Xe=function(){return O.a.createElement(O.a.Fragment,null,O.a.createElement(T.d,null,O.a.createElement(T.b,{path:ne,render:function(){return O.a.createElement(K,null)}}),O.a.createElement(T.b,{path:re,render:function(){return O.a.createElement(Je,null)}})))},Ye=function(){return O.a.createElement("div",null,O.a.createElement("h1",null,"\u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f!"))},Ke=function(e){var t=e.authMe,n=e.initializeTheApplication,a=e.initialize;return Object(h.useEffect)((function(){Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:n(!0);case 3:case"end":return e.stop()}}),e)})))()}),[t,n]),a?O.a.createElement(O.a.Fragment,null,a&&O.a.createElement(Xe,null)):O.a.createElement(Ye,null)},Qe={authMe:g,initializeTheApplication:E.c},Ze=Object(a.b)((function(e){return{initialize:e.app.initializeTheApplication}}),Qe)(Ke),$e=n(14),et=n.n($e),tt=n(75),nt=n(128),at=n(129),rt=n(130),ct=n(178),ot=n(169),it=Object(tt.b)({profilePage:ve.b,dialogsPage:nt.a,messagesPage:at.a,usersPage:rt.a,auth:f,form:ot.a,app:E.b}),ut=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||tt.c,st=Object(tt.d)(it,ut(Object(tt.a)(ct.a)));window.store=st;var lt=st;et.a.render(O.a.createElement(y.a,null,O.a.createElement(a.a,{store:lt},O.a.createElement(Ze,null))),document.getElementById("root"))},44:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return u}));var a=n(5),r={initializeTheApplication:!1,controlPanels:!1,refreshRequests:!1,navigationPanelVisibility:!1},c=function(e){return function(t){t(function(e){return{type:"INITIALIZE_THE_APPLICATION",initializeTheApplication:e}}(e))}},o=function(e){return function(t,n){e=Number(e);var a=n().auth.userId,r=n().auth.isAuth;if(e&&e===a)t({type:"OPEN_CONTROL_PANEL"});else if(e){t({type:"CLOSE_CONTROL_PANEL"})}else if(r){t({type:"OPEN_CONTROL_PANEL"})}else if(!r){t({type:"CLOSE_CONTROL_PANEL"})}}},i=function(){return function(e){e({type:"REFRESH_REQUESTS"})}},u=function(){return function(e){e({type:"TOGGLE_NAV"})}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_THE_APPLICATION":return Object(a.a)(Object(a.a)({},e),{},{initializeTheApplication:t.initializeTheApplication});case"OPEN_CONTROL_PANEL":return Object(a.a)(Object(a.a)({},e),{},{controlPanels:!0});case"CLOSE_CONTROL_PANEL":return Object(a.a)(Object(a.a)({},e),{},{controlPanels:!1});case"REFRESH_REQUESTS":return Object(a.a)(Object(a.a)({},e),{},{refreshRequests:!e.refreshRequests});case"TOGGLE_NAV":return Object(a.a)(Object(a.a)({},e),{},{navigationPanelVisibility:!e.navigationPanelVisibility});default:return e}}},49:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var a=n(258),r=n(259),c=n(260),o=2},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=n(359)},90:function(e,t,n){e.exports={default:"FormControls_default__2z3yg",correct:"FormControls_correct__Xq_7Y",inCorrect:"FormControls_inCorrect__1YsSa",promptText:"FormControls_promptText__3IDk0",inCorrectSubmitDataHint:"FormControls_inCorrectSubmitDataHint__TEXh1"}},91:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return g})),n.d(t,"h",(function(){return E})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return O})),n.d(t,"d",(function(){return b})),n.d(t,"i",(function(){return v})),n.d(t,"g",(function(){return T}));var a=n(8),r=n.n(a),c=n(13),o=n(12),i=n(5),u=n(18),s=n(70),l=n(49),p={posts:[{content:"alo",imgSrc:"http://sun9-44.userapi.com/s/v1/if1/qw3vWR63rnWIPexrEErujILvop-GpxX8MJRJx1emFNrgy2Ve9Hf3sqh5NLHETJNtyNMxaiTe.jpg?size=200x0&quality=96&crop=18,0,586,594&ava=1",countLikes:"1"},{content:"helo",imgSrc:"http://sun9-44.userapi.com/s/v1/if1/qw3vWR63rnWIPexrEErujILvop-GpxX8MJRJx1emFNrgy2Ve9Hf3sqh5NLHETJNtyNMxaiTe.jpg?size=200x0&quality=96&crop=18,0,586,594&ava=1",countLikes:"3"}],profile:{},isFetching:!1,defaultStatusText:"\u0421\u0442\u0430\u0442\u0443\u0441\u0430 \u043d\u0435\u0442.",statusText:"\u0421\u0442\u0430\u0442\u0443\u0441\u0430 \u043d\u0435\u0442.",lookingAtMyProfile:!0,redrawToProfileComponent:!0},f=(t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},t.profile),{},{photos:Object(i.a)(Object(i.a)({},t.profile.photos),{},{large:t.profile.photos.large||s.a})})});case"ADD-POST":return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(o.a)(e.posts),[{content:t.message,imgSrc:"http://sun9-44.userapi.com/s/v1/if1/qw3vWR63rnWIPexrEErujILvop-GpxX8MJRJx1emFNrgy2Ve9Hf3sqh5NLHETJNtyNMxaiTe.jpg?size=200x0&quality=96&crop=18,0,586,594&ava=1",countLikes:"222"}]),newPostText:""});case"START_FETCHING":return Object(i.a)(Object(i.a)({},e),{},{isFetching:!0});case"STOP_FETCHING":return Object(i.a)(Object(i.a)({},e),{},{isFetching:!1});case"UPDATE_STATUS_TEXT":var n=t.statusText&&""!==t.statusText?t.statusText:"\u0421\u0442\u0430\u0442\u0443\u0441\u0430 \u043d\u0435\u0442.";return Object(i.a)(Object(i.a)({},e),{},{statusText:n});case"SET_FLAG_LOOKING_AT_MY_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{lookingAtMyProfile:!0});case"SET_FLAG_NOT_LOOKING_AT_MY_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{lookingAtMyProfile:!1});case"GET_STATUS":var a=t.statusText&&""!==t.statusText?t.statusText:"\u0421\u0442\u0430\u0442\u0443\u0441\u0430 \u043d\u0435\u0442.";return Object(i.a)(Object(i.a)({},e),{},{statusText:a});case"UPDATE_PROFILE_PICTURE":return Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},e.profile),{},{photos:Object(i.a)({},t.imagefile)})});case"SAVE_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},e.profile),t.profile)});default:return e}},function(e){return{type:"SET_USER_PROFILE",profile:e}}),m=function(e){return{type:"UPDATE_PROFILE_PICTURE",imagefile:e}},d=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var c,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=_(e,a().auth.isAuth,a().auth.userId,l.a),n(c={type:"START_FETCHING"}),t.next=5,u.d.getProfile(e);case 5:200===(o=t.sent).status&&(c=f(o.data),n(c),n(c={type:"STOP_FETCHING"}));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},g=function(e){return function(t){t({type:"ADD-POST",message:e})}},E=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.d.updateStatus(e);case 2:200===t.sent.status&&n({type:"UPDATE_STATUS_TEXT",statusText:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(){return function(e){e({type:"SET_FLAG_LOOKING_AT_MY_PROFILE"})}},O=function(){return function(e){e({type:"SET_FLAG_NOT_LOOKING_AT_MY_PROFILE"})}},b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=_(e,a().auth.isAuth,a().auth.userId,l.a),t.next=3,u.d.getStatus(e);case 3:200===(c=t.sent).status&&(r=c.data,n({type:"GET_STATUS",statusText:r}));case 5:case"end":return t.stop()}var r}),t)})));return function(e,n){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.d.updateProfilePicture(e);case 2:0===(a=t.sent).data.resultCode?(c=m(a.data.data.photos),n(c)):console.log("\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043d\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u043b\u0430\u0441\u044c, \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0444\u0430\u0439\u043b\u0430!");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var c,o,i,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a().auth.userId,t.next=3,u.d.saveProfile(e);case 3:if(0!==(o=t.sent).data.resultCode){t.next=9;break}return t.next=7,u.d.getProfile(c);case 7:200===(i=t.sent).status&&(s=f(i.data),n(s));case 9:return t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},_=function(e,t,n,a){return e||(e=t?n:a),e}}},[[231,1,2]]]);
//# sourceMappingURL=main.51f51eb3.chunk.js.map