{"version":3,"sources":["components/common/FormsControls/FormControls.module.scss","components/Navigation/Navigation.module.scss","components/App/App.module.scss","components/LeftPanel/LeftPanel.module.scss","components/FriendList/FriendList.module.scss","components/Header/Header.module.scss","components/Dialogs/DialogItem/DialogItem.module.scss","images/avatar.png","images/signIn.png","images/signUp.png","images/logOut.png","components/Navigation/Navigation.jsx","api/api.js","constants/Users.js","redux/profile-reducer.js","constants/Profile.js","components/Navigation/NavigationContainer.jsx","components/FriendList/Friend/Friend.jsx","components/FriendList/FriendList.jsx","components/FriendList/FriendListContainer.jsx","components/LeftPanel/index.js","components/LeftPanel/LeftPanel.jsx","components/Authorization/AuthorizationPanel/AuthorizationItem/AuthorizationItem.jsx","constants/Authorization.js","components/Authorization/AuthorizationPanel/AuthorizationPanel.jsx","redux/auth-reducer.js","components/Authorization/AuthorizationPanel/AuthorizationPanelContainer.jsx","components/Header/index.js","components/Header/Header.jsx","components/Profile/Posts/Post/Post.jsx","components/common/FormsControls/FormControls.js","utils/validators/validators.js","components/Profile/Posts/Posts.jsx","components/Profile/Posts/PostsContainer.jsx","components/Status/Status.jsx","components/Status/StatusContainer.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Dialogs.jsx","redux/dialogs-reducer.js","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx","components/Preloader/Preloader.jsx","components/Users/UserItem/UserItem.jsx","components/Pagination/Pagination.jsx","components/Users/UsersList/UsersList.jsx","redux/users-reducer.js","redux/users-selectors.js","components/Users/UsersList/UsersListContainer.jsx","components/Users/Users.jsx","components/Authorization/AuthorizationPage/AuthorizationPage.jsx","redux/app-reducer.js","components/App/App.js","redux/redux-store.js","index.js","components/Authorization/AuthorizationPanel/AuthorizationPanel.module.scss","components/Users/UserItem/UserItem.module.scss","components/Pagination/Pagination.module.scss","components/Status/Status.module.scss","components/Profile/Posts/Post/Post.module.scss","components/FriendList/Friend/Friend.module.scss","components/Authorization/AuthorizationPanel/AuthorizationItem/AuthorizationItem.module.scss","components/Dialogs/Dialogs.module.scss","components/Profile/Profile.module.scss","components/Profile/ProfileInfo/ProfileInfo.module.scss"],"names":["module","exports","Navigation","clickProfileLink","className","style","NavigationContainer","NavigationContainer__list","NavigationContainer__item","onClick","activeClassName","active","NavigationContainer__link","to","instance","axios","withCredentials","baseURL","headers","usersApi","getUsers","currentPage","pagesSize","get","follow","id","post","unfollow","delete","profileAPI","userId","then","response","status","put","authAPI","email","password","rememberMe","DEFAULT_AVATAR_SRC","require","initialState","posts","content","imgSrc","countLikes","profile","isFetching","defaultStatusText","statusText","lookingAtMyProfile","redrawToProfileComponent","profileReducer","state","action","type","photos","large","message","newPostText","updateStatusText","getStatusText","getProfile","dispatch","a","data","lookingMyProfile","notLookingMyProfile","props","isAuth","console","log","this","React","Component","compose","connect","profilePage","auth","Friend","srcPhoto","clickProfileUser","name","friendContainer","photo","src","FriendList","friendList","styleContainer","length","container","friends","map","friend","small","FriendListContainer","usersPage","users","filter","user","followed","LeftPanel","leftPanelWrapper","AuthorizationItem","onClickF","srcImg","text","authorizationItem","authorizationImg","alt","width","height","authorizationText","SIGN_IN_IMG","SIGN_UP_IMG","LOG_OUT_IMG","AuthorizationPanel","authorizationInfo","logOutClick","signInOnClick","signUpOnClick","authorizationPanelWrapper","authorizationPanelInfo","infoText","login","authorizationPanel","signInImg","signUpImg","logOutImg","authReducer","setUserDataAC","authMe","resultCode","AuthorizationPanelContainer","logOut","Header","HeaderContainer","Post","PostContainer","PostContentImg","image","PostCountLikes","TextareaDefault","input","meta","CORRECT_INPUT","touched","error","INCORRECT_INPUT","correct","inCorrect","default","promptText","Login","Pass","required","value","maxLengthCreator","maxLength","maxLength10","PostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","validate","Posts","postData","addPost","PostsContainer","Status","activateEditMode","editMode","deActivateEditModeEnterOrEsc","onStatusChange","deActivateEditMode","statusTextStyle","statusTextContainer","inputStatusText","onFocus","event","target","select","onKeyDown","e","onBlur","onChange","autoFocus","updateNewStatusText","newStatusText","useState","setEditMode","setStatus","keyCode","statusInputText","ProfileInfo","ProfileInfoContainer","fullName","Profile","ProfileContainer","match","params","getStatus","withRouter","Message","MessageContainer","DialogItem","path","navlink","MessageFormRedux","Dialogs","dialogsData","messages","onSendMessageClick","element","dialogs","dialogsItems","formData","dialogsReducer","newMessage","newMessageBody","mapStateToPropsForRedirect","RedirectComponent","dialogsPage","Preloader","UserItem","isFetchingFollowOrUnfollowIdList","defaultAvatarSrc","navlinkTo","buttonText","styleButton","deleteFriendButton","addFriendButton","some","avatarSrc","UserItemContainer","Pagination","listPageNumbers","countCardsInPage","getCards","loading","loadingStyle","currentPageNumber","setCurrentPageNumber","pageNumbers","pageNumber","pageNumberContainer","onPageChanged","button","disabled","pageNumberListContainer","UsersList","totalUsersCount","setCurrentPage","countPage","Math","ceil","pages","i","push","usersReducer","u","followAC","unfollowAC","toggleIsFetching","isFetchingFollowOrUnfollowStart","isFetchingFollowOrUnfollowEnd","followUnfollow","UsersApiFollowOrUnfollow","actionCreator","createSelector","getPagesSize","getTotalUsersCount","getIsFetching","getIsFetchingFollowOrUnfollowIdList","getIsAuth","getDefaultAvatarSrc","UsersListContainer","getUsersSC","items","totalCount","bind","Users","UsersContainer","maxLength40","AuthorizationFormRedux","styleForm","inCorrectSubmitDataHint","signIn","stopSubmit","_error","initializeTheApplication","app","App","initialize","render","DialogsContainer","appPage","initializeTheApplicationAC","reducers","combineReducers","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.702af4af.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"default\":\"FormControls_default__LXWUM\",\"correct\":\"FormControls_correct__2VZGw\",\"inCorrect\":\"FormControls_inCorrect__2PKjI\",\"promptText\":\"FormControls_promptText__3qe6J\",\"inCorrectSubmitDataHint\":\"FormControls_inCorrectSubmitDataHint__14meP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavigationContainer\":\"Navigation_NavigationContainer__3yWGN\",\"NavigationContainer__list\":\"Navigation_NavigationContainer__list__3PriQ\",\"NavigationContainer__item\":\"Navigation_NavigationContainer__item__1D9QG\",\"NavigationContainer__link\":\"Navigation_NavigationContainer__link__25QxP\",\"active\":\"Navigation_active__3kPOq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__1nrC6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"leftPanelWrapper\":\"LeftPanel_leftPanelWrapper__ROtL9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FriendList_container__2tyje\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"HeaderContainer\":\"Header_HeaderContainer__XpmGO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navlink\":\"DialogItem_navlink__rRvn8\"};","module.exports = __webpack_public_path__ + \"static/media/avatar.d48a8973.png\";","module.exports = __webpack_public_path__ + \"static/media/signIn.66b9eed0.png\";","module.exports = __webpack_public_path__ + \"static/media/signUp.e6f42918.png\";","module.exports = __webpack_public_path__ + \"static/media/logOut.a4e6b624.png\";","import React from \"react\";\r\nimport style from \"./Navigation.module.scss\";\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst Navigation = ({clickProfileLink,}) => {\r\n  return (\r\n    <header>\r\n      <div className={style.NavigationContainer}>\r\n        <ul className={style.NavigationContainer__list}>\r\n          <li className={style.NavigationContainer__item}>\r\n            <NavLink onClick={clickProfileLink} activeClassName={style.active} className={style.NavigationContainer__link} to=\"/Profile\">\r\n              Profile\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.NavigationContainer__item}>\r\n            <NavLink activeClassName={style.active} className={style.NavigationContainer__link} to=\"/dialog\">\r\n            Dialog\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.NavigationContainer__item}>\r\n            <NavLink activeClassName={style.active} className={style.NavigationContainer__link} to=\"/news\">\r\n              News\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.NavigationContainer__item}>\r\n            <NavLink activeClassName={style.active} className={style.NavigationContainer__link} to=\"/music\">\r\n              Music\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.NavigationContainer__item}>\r\n            <NavLink activeClassName={style.active} className={style.NavigationContainer__link} to=\"/users\">\r\n              Users\r\n            </NavLink>\r\n          </li>\r\n          <li className={style.NavigationContainer__item}>\r\n            <NavLink activeClassName={style.active} className={style.NavigationContainer__link} to=\"/settings\">\r\n              Settings\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0\",\r\n    headers: {\r\n        \"API-KEY\": \"fd622230-6210-4ef3-a457-276f95f589d0\",\r\n    },\r\n});\r\n\r\nexport const usersApi = {\r\n    getUsers(currentPage = 1, pagesSize = 10) {\r\n        return instance.get(`/users?page=${currentPage}&count=${pagesSize}`);\r\n    },\r\n    follow(id) {\r\n        return instance.post('/follow/' + id);\r\n    },\r\n    unfollow(id) {\r\n        return instance.delete('/follow/' + id);\r\n    },\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(id) {\r\n        return instance.get(`/profile/`+ id);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get('/profile/status/' + userId)\r\n                       .then(response => response);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put('profile/status', {status: status});\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    getAuthMe() {\r\n        return instance.get('auth/me');\r\n    },\r\n    signIn(email, password, rememberMe) {\r\n        return instance.post('/auth/login', {email, password, rememberMe});\r\n    },\r\n    logOut() {\r\n        return instance.delete('/auth/login');\r\n    }\r\n}","export const DEFAULT_AVATAR_SRC = require(\"../images/avatar.png\");\r\n","import {\r\n  usersApi,\r\n  profileAPI\r\n} from \"../api/api\";\r\nimport {DEFAULT_AVATAR_SRC} from \"../constants/Users\";\r\nimport {DEFAULT_STATUS_TEXT, MY_ID} from \"../constants/Profile\"\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst START_FETCHING = 'START_FETCHING';\r\nconst STOP_FETCHING = 'STOP_FETCHING';\r\nconst GET_STATUS = 'GET_STATUS';\r\nconst UPDATE_STATUS_TEXT = 'UPDATE_STATUS_TEXT';\r\nconst SET_FLAG_LOOKING_AT_MY_PROFILE = 'SET_FLAG_LOOKING_AT_MY_PROFILE';\r\nconst SET_FLAG_NOT_LOOKING_AT_MY_PROFILE = 'SET_FLAG_NOT_LOOKING_AT_MY_PROFILE';\r\n\r\n\r\nlet initialState = {\r\n  posts: [{\r\n      content: 'alo',\r\n      imgSrc: 'http://sun9-44.userapi.com/s/v1/if1/qw3vWR63rnWIPexrEErujILvop-GpxX8MJRJx1emFNrgy2Ve9Hf3sqh5NLHETJNtyNMxaiTe.jpg?size=200x0&quality=96&crop=18,0,586,594&ava=1',\r\n      countLikes: '1',\r\n    },\r\n    {\r\n      content: 'helo',\r\n      imgSrc: 'http://sun9-44.userapi.com/s/v1/if1/qw3vWR63rnWIPexrEErujILvop-GpxX8MJRJx1emFNrgy2Ve9Hf3sqh5NLHETJNtyNMxaiTe.jpg?size=200x0&quality=96&crop=18,0,586,594&ava=1',\r\n      countLikes: '3',\r\n    },\r\n  ],\r\n  profile: null,\r\n  isFetching: false,\r\n  defaultStatusText: DEFAULT_STATUS_TEXT,\r\n  statusText: DEFAULT_STATUS_TEXT,\r\n  lookingAtMyProfile: true,\r\n  redrawToProfileComponent: true,\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_PROFILE:\r\n      return {\r\n              ...state,\r\n              profile: {\r\n                        ...action.profile,\r\n                        photos: {\r\n                                 ...action.profile.photos,\r\n                                 large: action.profile.photos.large || DEFAULT_AVATAR_SRC,\r\n                                }\r\n                       },\r\n             };\r\n    case ADD_POST:\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, {\r\n            content: action.message,\r\n            imgSrc: 'http://sun9-44.userapi.com/s/v1/if1/qw3vWR63rnWIPexrEErujILvop-GpxX8MJRJx1emFNrgy2Ve9Hf3sqh5NLHETJNtyNMxaiTe.jpg?size=200x0&quality=96&crop=18,0,586,594&ava=1',\r\n            countLikes: '222',\r\n          }],\r\n          newPostText: \"\",\r\n      };\r\n    case START_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: true,\r\n      }\r\n      case STOP_FETCHING:\r\n        return {\r\n          ...state,\r\n          isFetching: false,\r\n        }\r\n      case UPDATE_STATUS_TEXT:\r\n        let updateStatusText = action.statusText && action.statusText !== \"\"? action.statusText: DEFAULT_STATUS_TEXT;\r\n        return {\r\n                ...state,\r\n                statusText: updateStatusText,\r\n               }\r\n      case SET_FLAG_LOOKING_AT_MY_PROFILE:\r\n        return {\r\n                ...state,\r\n                lookingAtMyProfile: true,\r\n               }\r\n      case SET_FLAG_NOT_LOOKING_AT_MY_PROFILE:\r\n        return {\r\n                ...state,\r\n                lookingAtMyProfile: false,\r\n               }\r\n      case GET_STATUS:\r\n        let getStatusText = action.statusText && action.statusText !== \"\"? action.statusText: DEFAULT_STATUS_TEXT;\r\n        return {\r\n                ...state,\r\n                statusText: getStatusText,\r\n               }\r\n        default:\r\n          return state;\r\n  }\r\n}\r\n\r\nexport default profileReducer;\r\n\r\nexport let addPostAC = (text) =>\r\n  ({\r\n    type: ADD_POST,\r\n    message: text,\r\n  });\r\n\r\nexport let setUserProfileAC = (profile) =>\r\n  ({\r\n    type: SET_USER_PROFILE,\r\n    profile\r\n  });\r\n\r\nexport let startFetchingAC = () =>\r\n  ({\r\n    type: START_FETCHING\r\n  });\r\n\r\nexport let stopFetchingAC = () =>\r\n  ({\r\n    type: STOP_FETCHING\r\n  });\r\n\r\nexport let updateNewStatusTextAC = (statusText) =>\r\n({\r\n  type: UPDATE_STATUS_TEXT,\r\n  statusText,\r\n});\r\n\r\nexport let lookingMyProfileAC = () =>\r\n({\r\n  type: SET_FLAG_LOOKING_AT_MY_PROFILE,\r\n});\r\n\r\nexport let notLookingMyProfileAC = () =>\r\n({\r\n  type: SET_FLAG_NOT_LOOKING_AT_MY_PROFILE,\r\n});\r\n\r\nexport let getStatusAC = (statusText) =>\r\n({\r\n  type: GET_STATUS,\r\n  statusText\r\n})\r\n\r\nexport const getProfile = (id) => {\r\n  id = id ? id: MY_ID;\r\n  return async (dispatch) => {\r\n    let action = startFetchingAC();\r\n    dispatch(action);\r\n    let response = await profileAPI.getProfile(id)\r\n    if (response.status === 200) {\r\n      action = setUserProfileAC(response.data);\r\n      dispatch(action);\r\n      action = stopFetchingAC();\r\n      dispatch(action);\r\n    }\r\n  }\r\n}\r\n\r\nexport const addPost = (newPostText) => {\r\n  return (dispatch) => {\r\n    let action = addPostAC(newPostText);\r\n    dispatch(action);\r\n  }\r\n}\r\n\r\nexport const updateNewStatusText = (newStatusText) => {\r\n  return async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(newStatusText)\r\n    if (response.status === 200) {\r\n      let action = updateNewStatusTextAC(newStatusText);\r\n      dispatch(action);\r\n    }\r\n  }\r\n}\r\n\r\nexport const lookingMyProfile = () => {\r\n  return (dispatch) => {\r\n    let action = lookingMyProfileAC();\r\n    dispatch(action);\r\n  }\r\n}\r\n\r\nexport const notLookingMyProfile = () => {\r\n  return (dispatch) => {\r\n    let action = notLookingMyProfileAC();\r\n    dispatch(action);\r\n  }\r\n}\r\n\r\nexport const getStatus = (userId) => {\r\n  userId = userId ? userId: MY_ID;\r\n  return async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    if (response.status === 200) {\r\n      let action = getStatusAC(response.data);\r\n      dispatch(action);\r\n    }\r\n  }\r\n}","export const DEFAULT_STATUS_TEXT = \"Статуса нет.\";\r\nexport const MY_ID = 15634;","import React from \"react\";\r\nimport Navigation from './Navigation';\r\nimport {getProfile, lookingMyProfile} from '../../redux/profile-reducer';\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nclass NavigationContainer extends React.Component {\r\n  clickProfileLink= () => {\r\n    if(!this.props.isAuth) {\r\n      console.log(\"Надо отправить на логинизацию, пользователь анонимный!\")\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if(!this.props.isAuth) {\r\n      console.log(\"Надо запретить редактировать статус и так далее, пользователь анонимный.\")\r\n    }\r\n    return <Navigation clickProfileLink={this.clickProfileLink} />;\r\n  }\r\n};\r\n\r\n\r\nlet mapStateToProps = (state) => (\r\n  {\r\n    redrawToProfileComponent: state.profilePage.redrawToProfileComponent,\r\n    isAuth: state.auth.isAuth,\r\n  }\r\n)\r\nexport default compose(\r\n                       connect(mapStateToProps, {getProfile, lookingMyProfile})\r\n                      )(NavigationContainer);\r\n","import React from \"react\";\r\nimport style from \"./Friend.module.scss\";\r\nimport PropTypes from \"prop-types\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {DEFAULT_AVATAR_SRC} from \"../../../constants/Users\";\r\n\r\nconst Friend = ({srcPhoto, clickProfileUser, id, name}) => {\r\n  srcPhoto = srcPhoto ? srcPhoto: DEFAULT_AVATAR_SRC;\r\n\r\n  return (<NavLink onClick={() => clickProfileUser(id)} className={style.friendContainer} to={`/Profile/${id}`}>\r\n            <img className={style.photo} src={srcPhoto} />\r\n            <p className={style.name}>{name}</p>\r\n          </NavLink>\r\n          );\r\n};\r\n\r\nexport default Friend;","import React from \"react\";\r\nimport style from \"./FriendList.module.scss\";\r\nimport PropTypes from \"prop-types\";\r\nimport Friend from \"./Friend/Friend\";\r\n\r\nconst FriendList = ({friendList, clickProfileUser}) => {\r\n  let styleContainer = friendList.length ? style.container: \"\";\r\n  let friends = friendList.map((friend) => <Friend id={friend.id} \r\n                                                   srcPhoto={friend.photos.small}\r\n                                                   name={friend.name} \r\n                                                   clickProfileUser={clickProfileUser} />);\r\n  return ( <div className={styleContainer}>\r\n            {friends}\r\n           </div>\r\n         );\r\n}\r\n\r\nFriendList.propTypes = {\r\n  // message: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default FriendList;","import React from \"react\";\r\nimport FriendList from './FriendList'\r\nimport {connect} from \"react-redux\";\r\nimport {getProfile, notLookingMyProfile} from \"../../redux/profile-reducer\";\r\nimport {compose} from \"redux\";\r\n\r\nclass FriendListContainer extends React.Component {\r\n  clickProfileUser = (id) => {\r\n    this.props.getProfile(id);\r\n    this.props.notLookingMyProfile();\r\n  }\r\n  render() {\r\n    return <FriendList friendList={this.props.friendList} clickProfileUser={this.clickProfileUser} />\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  let friendList = state.usersPage.users.filter(user => user.followed);\r\n  return {\r\n          friendList,\r\n         }\r\n}\r\n\r\n\r\nexport default compose(\r\n                       connect(mapStateToProps, {getProfile, notLookingMyProfile})\r\n                      )(FriendListContainer);","import LeftPanel from './LeftPanel.jsx';\r\n\r\nexport default LeftPanel;","import React from \"react\";\r\nimport style from \"./LeftPanel.module.scss\";\r\nimport NavigationContainer from \"../Navigation/NavigationContainer\";\r\nimport FriendListContainer from \"../FriendList/FriendListContainer\";\r\n\r\nconst LeftPanel = () => {\r\n  return ( <div className={style.leftPanelWrapper}>\r\n             <NavigationContainer />\r\n             <FriendListContainer />\r\n          </div>\r\n         )};\r\n\r\nexport default LeftPanel;","import React from \"react\";\r\nimport style from \"./AuthorizationItem.module.scss\";\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nconst AuthorizationItem = ({onClickF, srcImg, text}) => {\r\n    return (<NavLink onClick={onClickF}\r\n                     activeClassName={\"\"}\r\n                     className={style.authorizationItem} \r\n                     to={\"/authorization\"}>\r\n               <img className={style.authorizationImg} alt={\"authorization\"} src={srcImg} width={100} height={100} />\r\n               <p className={style.authorizationText}>{text}</p>\r\n             </NavLink>);\r\n};\r\n\r\nexport default AuthorizationItem;","export const SIGN_IN_IMG = require(\"../images/signIn.png\");\r\nexport const SIGN_UP_IMG = require(\"../images/signUp.png\");\r\nexport const LOG_OUT_IMG = require(\"../images/logOut.png\");","import React from \"react\";\r\nimport style from \"./AuthorizationPanel.module.scss\";\r\nimport AuthorizationItem from './AuthorizationItem/AuthorizationItem';\r\nimport {SIGN_IN_IMG, SIGN_UP_IMG, LOG_OUT_IMG} from '../../../constants/Authorization';\r\n\r\nconst AuthorizationPanel = ({isAuth, authorizationInfo, logOutClick, signInOnClick, signUpOnClick}) => {\r\n  if (isAuth) {\r\n    return (<div className={style.authorizationPanelWrapper}>\r\n              <div className={style.authorizationPanelInfo}>\r\n                <p className={style.infoText}>{\"Айди: \" + authorizationInfo.userId}</p>\r\n                <p className={style.infoText}>{\"Логин: \" + authorizationInfo.login}</p>\r\n                <p className={style.infoText}>{\"Почта: \" + authorizationInfo.email}</p>\r\n              </div>\r\n              <div className={style.authorizationPanel}>\r\n                <AuthorizationItem text={\"Выйти\"}\r\n                                   onClickF={logOutClick}\r\n                                   srcImg={LOG_OUT_IMG} />\r\n              </div>\r\n            </div>);\r\n  }\r\n  else {\r\n    return (<div className={style.authorizationPanel}>\r\n             <AuthorizationItem text={\"Войти\"}\r\n                                onClickF={signInOnClick}\r\n                                srcImg={SIGN_IN_IMG} />\r\n             <AuthorizationItem text={\"Зарегестрироваться\"}\r\n                                onClickF={signUpOnClick}\r\n                                srcImg={SIGN_UP_IMG} />\r\n           </div>);\r\n  }\r\n};\r\n\r\nexport default AuthorizationPanel;","import { stopSubmit } from \"redux-form\";\r\nimport {authAPI} from \"../api/api\";\r\nimport {SIGN_IN_IMG, SIGN_UP_IMG, LOG_OUT_IMG} from \"../constants/Authorization\";\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\nconst SIGN_IN = \"SIGN_IN\";\r\nconst SIGN_UP = \"SIGN_UP\";\r\nconst LOG_OUT = \"LOG_OUT\";\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  signInImg: SIGN_IN_IMG,\r\n  signUpImg: SIGN_UP_IMG,\r\n  logOutImg: LOG_OUT_IMG,\r\n};\r\n//SignIn\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n              ...state,\r\n              ...action.data,\r\n              isAuth: action.isAuth,\r\n             }\r\n      case SIGN_IN:\r\n        return {\r\n                ...state,\r\n                isAuth: action.isAuth,\r\n               }\r\n      case SIGN_UP:\r\n        return {\r\n                ...state,\r\n                isAuth: action.isAuth,\r\n               }\r\n      case LOG_OUT:\r\n        return {\r\n                ...state,\r\n                isAuth: action.isAuth,\r\n               }\r\n      default:\r\n        return state;\r\n  }\r\n}\r\n\r\nexport default authReducer;\r\nexport let setUserDataAC = (userId = null, email = null, login = null, isAuth = false) => {\r\n  return {\r\n    type: SET_USER_DATA,\r\n    data: {\r\n      userId,\r\n      email,\r\n      login\r\n    },\r\n    isAuth,\r\n  }\r\n};\r\n\r\nexport let signInAC = (isAuth) => {\r\n  return {\r\n          type: SIGN_IN,\r\n          isAuth,\r\n         }\r\n}\r\n\r\nexport let signUpAC = (isAuth) => {\r\n  return {\r\n    type: SIGN_UP,\r\n    isAuth,\r\n   }\r\n}\r\n\r\nexport let logOutAC = (isAuth) => {\r\n  return {\r\n    type: LOG_OUT,\r\n    isAuth,\r\n   }\r\n}\r\n\r\nexport const authMe = () => {\r\n  return async (dispatch) => {\r\n    let response = await authAPI.getAuthMe();\r\n    if (response.data.resultCode === 0) {\r\n      let {id, email, login} = response.data.data;\r\n      let action = setUserDataAC(id, email, login, true);\r\n      dispatch(action);\r\n    }\r\n    return response;\r\n  }\r\n}\r\n\r\nexport const signIn = (email, password, rememberMe = null)  => {\r\n   return async (dispatch) => {\r\n     let response = await authAPI.signIn(email, password, rememberMe);\r\n     if (response.data.resultCode === 0) {\r\n       let action = authMe();\r\n       dispatch(action);\r\n     }\r\n     else {\r\n       let action = authMe();\r\n       dispatch(action);\r\n       action = stopSubmit(\"authorization\", {_error: response.data.messages[0]});\r\n       dispatch(action);\r\n     }\r\n     return response;\r\n   }  \r\n}\r\n\r\nexport const signUp = ()  => {\r\n  return (dispatch) => {}  \r\n}\r\n\r\nexport const logOut = ()  => {\r\n  return async (dispatch) => {\r\n    let response = await authAPI.logOut();\r\n    if (response.data.resultCode === 0) {\r\n      let action = setUserDataAC();\r\n      dispatch(action);\r\n    }\r\n\r\n  }  \r\n}","import React from \"react\";\r\nimport AuthorizationPanel from \"./AuthorizationPanel\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {logOut, authMe} from \"../../../redux/auth-reducer\";\r\n\r\nclass AuthorizationPanelContainer extends React.Component {\r\n  signInOnClick = () => {\r\n    console.log(\"открыть страницу входа в систему\")\r\n  }\r\n  signUpOnClick = () => {\r\n    console.log(\"открыть страницу регистрации\")\r\n  }\r\n  logOutClick = () => {\r\n    console.log(\"выйти из системы\");\r\n    this.props.logOut();\r\n  }\r\n  \r\n  render() {\r\n    return (<AuthorizationPanel  signInImg={this.props.signInImg}\r\n                                 signUpImg={this.props.signUpImg}\r\n                                 logOutImg={this.props.logOutImg}\r\n                                 signInOnClick={this.signInOnClick}\r\n                                 signUpOnClick={this.signUpOnClick}\r\n                                 logOutClick={this.logOutClick}\r\n                                 isAuth={this.props.isAuth} \r\n                                 authorizationInfo={this.props.authorizationInfo}\r\n                                 profile={this.props.profilePage} />)\r\n  }\r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    authorizationInfo: {  \r\n                          userId: state.auth.userId,\r\n                          email: state.auth.email,\r\n                          login: state.auth.login,\r\n                        },\r\n    signInImg: state.auth.signInImg,\r\n    signUpImg: state.auth.signUpImg,\r\n    logOutImg: state.auth.logOutImg,\r\n});\r\n\r\nexport default compose(\r\n                       connect(mapStateToProps,{logOut, authMe}),\r\n                      )(AuthorizationPanelContainer);\r\n","import Header from './Header.jsx';\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport style from \"./Header.module.scss\";\r\nimport AuthorizationPanelContainer from \"../Authorization/AuthorizationPanel/AuthorizationPanelContainer\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header>\r\n      <div className={style.HeaderContainer}>\r\n        <AuthorizationPanelContainer />\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport style from \"./Post.module.scss\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n\r\n\r\nconst Post = (props) => {\r\n  \r\n  return (\r\n    <div className={style.PostContainer}>\r\n      <div className={style.PostContentImg}>\r\n        <img\r\n          className={style.image}\r\n          width=\"50\"\r\n          height=\"50\"\r\n          src={props.imgSrc}\r\n        ></img>\r\n        <p>{props.content}</p>\r\n      </div>\r\n      <p className={style.PostCountLikes}>{props.countLikes}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nPost.propTypes = {\r\n  content: PropTypes.string.isRequired,\r\n  imgSrc: PropTypes.string.isRequired,\r\n  countLikes: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Post;\r\n","import React from \"react\";\r\nimport style from \"./FormControls.module.scss\";\r\n\r\nexport const TextareaDefault = ({input, meta, ...props}) => {\r\n    const CORRECT_INPUT = meta.touched && !meta.error;\r\n    const INCORRECT_INPUT = meta.error && meta.touched;\r\n    const NOT_TOUCHED = !meta.touched;\r\n    return (\r\n        <div>\r\n            <div>\r\n              <textarea {...input} {...props} className={CORRECT_INPUT ? style.correct : \r\n                                                         INCORRECT_INPUT ? style.inCorrect : \r\n                                                         NOT_TOUCHED ? style.default: style.default} />\r\n            </div>\r\n            {INCORRECT_INPUT && <span className={style.promptText}>{meta.error}</span>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const InputDefault = ({input, meta, ...props}) => {\r\n    const CORRECT_INPUT = meta.touched && !meta.error;\r\n    const INCORRECT_INPUT = meta.error && meta.touched;\r\n    const NOT_TOUCHED = !meta.touched;\r\n    return (\r\n        <div>\r\n            <div>\r\n              <input {...input} {...props} className={CORRECT_INPUT ? style.correct : \r\n                                                      INCORRECT_INPUT ? style.inCorrect : \r\n                                                      NOT_TOUCHED ? style.default: style.default} />\r\n            </div>\r\n            {INCORRECT_INPUT && <span className={style.promptText}>{meta.error}</span>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const Login = ({input, meta, ...props}) => {\r\n    const CORRECT_INPUT = meta.touched && !meta.error;\r\n    const INCORRECT_INPUT = meta.error && meta.touched;\r\n    const NOT_TOUCHED = !meta.touched;\r\n    return (\r\n        <div>\r\n            <div>\r\n              <input {...input} {...props} className={CORRECT_INPUT ? style.correct : \r\n                                                      INCORRECT_INPUT ? style.inCorrect : \r\n                                                      NOT_TOUCHED ? style.default: style.default} />\r\n            </div>\r\n            {INCORRECT_INPUT && <span className={style.promptText}>{meta.error}</span>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const Pass = ({input, meta, ...props}) => {\r\n    const CORRECT_INPUT = meta.touched && !meta.error;\r\n    const INCORRECT_INPUT = meta.error && meta.touched;\r\n    const NOT_TOUCHED = !meta.touched;\r\n    return (\r\n        <div>\r\n            <div>\r\n              <input {...input} {...props} className={CORRECT_INPUT ? style.correct : \r\n                                                      INCORRECT_INPUT ? style.inCorrect : \r\n                                                      NOT_TOUCHED ? style.default: style.default} />\r\n            </div>\r\n            {INCORRECT_INPUT && <span className={style.promptText}>{meta.error}</span>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const TextareaStatus = () => {\r\n    return (\r\n        <div>\r\n            hello\r\n        </div>\r\n    )\r\n}","export const required = (value) => {\r\n    if (value) {\r\n        return undefined;\r\n    }\r\n    return \"Пустое поле!\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength = 0) => (value = \"\") => {\r\n    if (value.length > maxLength) {\r\n        return `Максимальная длина ${maxLength} символов!`;\r\n    }\r\n    return undefined;\r\n}","import React from \"react\";\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {TextareaDefault} from \"../../common/FormsControls/FormControls\";\r\nimport {required, maxLengthCreator} from \"../../../utils/validators/validators\";\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst PostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field placeholder={\"Введите ваше пост\"}\r\n               name={\"post\"}\r\n               component={TextareaDefault} \r\n               validate={[required, maxLength10]} />\r\n      </div>\r\n      <button>Отправить сообщение</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst PostFormRedux = reduxForm({form: 'profile'},)(PostForm);\r\n\r\nconst Posts = (props) => {\r\n  let posts = props\r\n             .posts\r\n             .map(post => <Post content={post.content} \r\n                                 imgSrc={post.imgSrc} \r\n                                 countLikes={post.countLikes} />);\r\n  \r\n  let addPost = (postData) => {\r\n    props.addPost(postData.post);\r\n  }\r\n  return (\r\n    <div>\r\n      <h3>My posts</h3>\r\n      {posts}\r\n      <PostFormRedux onSubmit={addPost} />\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n// Posts.propTypes = {\r\n//   content: PropTypes.string,\r\n//   imgSrc: PropTypes.string,\r\n//   countLikes: PropTypes.string,\r\n// };\r\nexport default Posts;\r\n","import React from \"react\";\r\nimport Posts from \"./Posts\";\r\nimport {addPost} from '../../../redux/profile-reducer.js';\r\nimport {connect} from \"react-redux\";\r\n\r\nclass PostsContainer extends React.Component {\r\n  render() {\r\n    return <Posts posts={this.props.posts}\r\n                  addPost={this.props.addPost} />\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n          posts: state.profilePage.posts,\r\n         }\r\n}\r\n\r\nexport default connect(mapStateToProps, {addPost})(PostsContainer);","import React from \"react\";\r\nimport style from \"./Status.module.scss\";\r\n\r\nconst Status = ({lookingAtMyProfile, activateEditMode, editMode, deActivateEditModeEnterOrEsc, onStatusChange, deActivateEditMode, statusText}) => {\r\n  activateEditMode = lookingAtMyProfile ? activateEditMode: ()=>{};\r\n  let statusTextStyle = lookingAtMyProfile ? style.statusText: \"\";\r\n  \r\n  return <div className={style.statusTextContainer}>\r\n           {editMode && <input className={style.inputStatusText}\r\n                               onFocus={(event) => event.target.select()}\r\n                               onKeyDown={(e) => deActivateEditModeEnterOrEsc(e)}\r\n                               onBlur={deActivateEditMode}\r\n                               onChange={(e) => onStatusChange(e.target.value)} \r\n                               type=\"text\"\r\n                               autoFocus={true}\r\n                               value={statusText} />}\r\n           {!editMode && <span className={statusTextStyle} \r\n                               onClick={activateEditMode}>{statusText}</span>}            \r\n         </div>\r\n};\r\n\r\nexport default Status;","import React, {useState} from \"react\";\r\nimport style from \"./Status.module.scss\";\r\nimport Status from \"./Status\";\r\nimport {compose} from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport {updateNewStatusText} from \"../../redux/profile-reducer\";\r\n\r\nconst StatusContainer = ({defaultStatusText, updateNewStatusText}) => {\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(defaultStatusText);\r\n  //const [statusTextCopy, setStatusTextCopy] = useState(null)\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  }\r\n  const deActivateEditMode = () => {\r\n    setEditMode(false);\r\n    updateNewStatusText(status);\r\n  }\r\n\r\n  const onStatusChange = (statusInputText) => {\r\n    setStatus(statusInputText);\r\n  }\r\n\r\n  const deActivateEditModeEnterOrEsc = (e) => {\r\n    if (e.keyCode === 13) { // если клавиша Enter\r\n      setEditMode(false);\r\n      //let statusText = this.state.statusText !== \"\" ? this.state.statusText: this.props.defaultStatusText;\r\n      updateNewStatusText(status);\r\n    }\r\n\r\n    if (e.keyCode === 27) { // если клавиша esc\r\n     // this.setState({editMode: false, statusText: this.state.statusTextCopy,});\r\n      setEditMode(false);\r\n      updateNewStatusText(status); // заглушка\r\n    }\r\n  }\r\n\r\n  return <Status editMode={editMode}\r\n                 activateEditMode={activateEditMode} \r\n                 deActivateEditMode={deActivateEditMode}\r\n                 deActivateEditModeEnterOrEsc={deActivateEditModeEnterOrEsc}\r\n                 onStatusChange={onStatusChange} \r\n                 statusText={status} \r\n                 lookingAtMyProfile={true}/>\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n  statusText: state.profilePage.statusText,\r\n  defaultStatusText: state.profilePage.defaultStatusText,\r\n  lookingAtMyProfile: state.profilePage.lookingAtMyProfile,\r\n});\r\n\r\nexport default compose(\r\n                       connect(mapStateToProps, {updateNewStatusText})\r\n                      )(StatusContainer);","import React from \"react\";\r\nimport style from \"./ProfileInfo.module.scss\";\r\nimport StatusContainer from \"../../Status/StatusContainer\";\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n  return (\r\n    <div className={style.ProfileInfoContainer}>\r\n      <h1>{props.profile.fullName}</h1>\r\n      <img className={style.image} src={props.profile.photos.large} />\r\n      <StatusContainer placeholder={\"Привет мир\"} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport style from \"./Profile.module.scss\";\r\nimport PropTypes from \"prop-types\";\r\nimport PostsContainer from \"./Posts/PostsContainer\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\n             \r\nconst Profile = ({profile, }) => {\r\n  if (!profile) return (<></>);\r\n  return (\r\n    <div className={style.ProfileContainer}>\r\n      <ProfileInfo profile={profile} />\r\n      <PostsContainer profile={profile} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport style from \"./Profile.module.scss\";\r\nimport PropTypes from \"prop-types\";\r\nimport Profile from \"../Profile/Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getProfile, lookingMyProfile, notLookingMyProfile, getStatus} from \"../../redux/profile-reducer\";\r\nimport { withRouter } from \"react-router\";\r\nimport {compose} from \"redux\";\r\n                 \r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getProfile(this.props.match.params.userId);\r\n    this.props.getStatus(this.props.match.params.userId);\r\n    if (this.props.match.params.userId) {\r\n      this.props.notLookingMyProfile();\r\n    }\r\n    else {\r\n      this.props.lookingMyProfile();\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n            <Profile {...this.props} profile={this.props.profile} />\r\n           );\r\n  };\r\n}\r\n\r\nlet mapStateToProps = (state) => (\r\n  {\r\n    profile: state.profilePage.profile,\r\n    isFetching: state.profilePage.isFetching,\r\n  }\r\n)\r\n\r\nexport default compose(\r\n                       connect(mapStateToProps,{getProfile, lookingMyProfile, notLookingMyProfile, getStatus}),\r\n                       withRouter\r\n                      )(ProfileContainer);\r\n","import React from \"react\";\r\nimport style from \"./Message.module.scss\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Message = (props) => {\r\n  return (\r\n    <div className={style.MessageContainer}>\r\n      {props.message}\r\n    </div>\r\n  );\r\n};\r\n\r\nMessage.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport style from \"./DialogItem.module.scss\";\r\nimport PropTypes from \"prop-types\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n  let path = \"/Dialog/\" + props.id;\r\n  return (\r\n    <NavLink className={style.navlink} to={path}>{props.name}</NavLink>\r\n  );\r\n};\r\n\r\nDialogItem.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\nimport style from \"./Dialogs.module.scss\";\r\nimport Message from \"./Message/Message\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {TextareaDefault} from \"../common/FormsControls/FormControls\";\r\nimport {required, maxLengthCreator} from \"../../utils/validators/validators\";\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst MessageForm = ({handleSubmit}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <Field placeholder={\"Введите ваше сообщение\"} \r\n               name={\"message\"}\r\n               component={TextareaDefault}\r\n               validate={[required, maxLength10]} />\r\n      </div>\r\n      <button>Отправить сообщение</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst MessageFormRedux = reduxForm({form: 'message'},)(MessageForm);\r\n\r\nconst Dialogs = ({dialogsData, messages, onSendMessageClick}) => { \r\n  dialogsData = dialogsData.map((element) => (\r\n    <DialogItem name={element.name} id={element.id} />\r\n  ));\r\n  messages = messages.map((element) => (\r\n    <Message message={element.message} />\r\n  ));\r\n  let sendMessage = (formData) => {\r\n    onSendMessageClick(formData.message);\r\n  }\r\n\r\n  return (\r\n    <div className={style.dialogs}>\r\n      <div className={style.dialogsItems}>{dialogsData}</div>\r\n      <div className={style.messages}>\r\n        <div>{messages}</div>\r\n        <div>\r\n          <MessageFormRedux onSubmit={sendMessage} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dialogs;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n  messages: [\r\n             {\r\n              id: \"1\",\r\n              message: \"Hello my friend\"\r\n             },\r\n  ],\r\n  dialogsData: [\r\n                {\r\n                 id: \"1\",\r\n                 name: \"Miha\"\r\n                },\r\n                {\r\n                 id: \"2\",\r\n                 name: \"Kostya\"\r\n                },\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      return {\r\n              ...state,\r\n              messages: [...state.messages, {id: 6, message: action.newMessage}],\r\n              newMessageBody: \"\",\r\n             };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default dialogsReducer;\r\n\r\nexport let sendMessageCreatorAC = (newMessage) => \r\n      ({type: SEND_MESSAGE, newMessage,});\r\n\r\nexport const onSendMessageClick = (newMessageBody) => {\r\n      return (dispatch) => {\r\n               let action = sendMessageCreatorAC(newMessageBody);\r\n               dispatch(action);\r\n             }\r\n}","import React from \"react\";\r\nimport Component from \"react\"\r\nimport {connect} from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if(!this.props.isAuth) return <Redirect to='/authorization' />\r\n\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n}","import React from \"react\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {onSendMessageClick} from \"../../redux/dialogs-reducer.js\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n          dialogsData: state.dialogsPage.dialogsData,\r\n          messages: state.dialogsPage.messages,\r\n          isAuth: state.auth.isAuth,\r\n         }\r\n}\r\nexport default compose(\r\n                       withAuthRedirect,\r\n                       connect(mapStateToProps, {onSendMessageClick})\r\n                      )(Dialogs);","import React from \"react\";\r\nimport style from \"./Preloader.module.scss\";\r\n\r\n\r\nconst Preloader = (props) => {\r\n  return (<div>\r\n            <h2>Загрузка</h2>\r\n          </div>\r\n          );\r\n};\r\n\r\nexport default Preloader;\r\n","import React from \"react\";\r\nimport style from \"./UserItem.module.scss\";\r\nimport PropTypes from \"prop-types\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Preloader from \"../../Preloader/Preloader\";\r\n\r\n\r\nconst UserItem = ({followed, follow, unfollow, isFetchingFollowOrUnfollowIdList, photo, name, defaultAvatarSrc, id, navlinkTo}) => {\r\n  let buttonText = followed ? \"Удалить из друзей\": \"Добавить в друзья\";\r\n  let styleButton = followed ? style.deleteFriendButton: style.addFriendButton;\r\n  let isFetching = isFetchingFollowOrUnfollowIdList.some(element => element === id) ? <Preloader /> : null;\r\n  let avatarSrc = photo ? photo: defaultAvatarSrc;\r\n  return (\r\n            <div className={style.UserItemContainer}>\r\n              <NavLink to={navlinkTo}>\r\n                <img className={style.photo} src={avatarSrc} />\r\n                <p className={style.name}>{name}</p>\r\n              </NavLink>\r\n              <div>\r\n                <p>{\"\"}</p>\r\n                <p>{\"\"}</p>\r\n                {isFetching || <button onClick={() => {\r\n                  if (!followed) {\r\n                    follow(id);\r\n                  }\r\n\r\n                  if (followed) {\r\n                    unfollow(id);\r\n                  }\r\n                }\r\n                } className={styleButton}>{buttonText}</button>}\r\n              </div>\r\n            </div>\r\n          \r\n          );\r\n};\r\n\r\nexport default UserItem;","import React, {useState} from \"react\";\r\nimport style from \"./Pagination.module.scss\";\r\n\r\nconst Pagination = ({listPageNumbers, countCardsInPage, getCards, loading}) => {\r\n  let loadingStyle = loading ? style.loadingStyle: \"\";\r\n  let onPageChanged = (pageNumber, countCardsInPage) => {\r\n    setCurrentPageNumber(pageNumber);\r\n    getCards(pageNumber, countCardsInPage);\r\n  }\r\n  const [currentPageNumber, setCurrentPageNumber] = useState(1); // переменная одинаковая X\r\n  let pageNumbers = listPageNumbers\r\n                    .map(pageNumber => {\r\n                      return <li className={style.pageNumberContainer}>\r\n                               <button onClick={() => {\r\n                                                       if (!loading) onPageChanged(pageNumber, countCardsInPage)\r\n                                                      }\r\n                                               } \r\n                                       className={`${style.button} ${currentPageNumber === pageNumber && style.currentPage}`}\r\n                                       disabled={loading}>\r\n                                 {pageNumber}\r\n                               </button>\r\n                             </li>\r\n                                    }\r\n                                );\r\n\r\n\r\n  return (<ul className={`${loadingStyle} ${style.pageNumberListContainer}`}>{pageNumbers}</ul>);\r\n};\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\nimport style from \"./UsersList.module.scss\";\r\nimport PropTypes from \"prop-types\";\r\nimport UserItem from \"../UserItem/UserItem\";\r\nimport Pagination from \"../../Pagination/Pagination\";\r\nimport Preloader from \"../../Preloader/Preloader\";\r\n\r\n\r\nlet UsersList = ({totalUsersCount, pagesSize, currentPage, setCurrentPage, isFetching, users, getUsers, follow, unfollow, defaultAvatarSrc, isFetchingFollowOrUnfollowIdList}) => {\r\n  let countPage = Math.ceil(totalUsersCount / pagesSize);\r\n  let pages = [];\r\n  for(let i = 1; i <= countPage; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n    return (<>\r\n               <Pagination listPageNumbers={pages}\r\n                           countCardsInPage={pagesSize} \r\n                           loading={isFetching}\r\n                           getCards={getUsers} />\r\n               {isFetching ? <Preloader /> : null}\r\n               {!isFetching && users.map((user) => <UserItem navlinkTo={\"/Profile/\" + user.id}\r\n                                                                         id={user.id} \r\n                                                                         photo={user.photos.small}\r\n                                                                         name={user.name}\r\n                                                                         followed={user.followed}\r\n                                                                         isFetchingFollowOrUnfollowIdList={isFetchingFollowOrUnfollowIdList}\r\n                                                                         follow={follow} \r\n                                                                         unfollow={unfollow}\r\n                                                                         defaultAvatarSrc={defaultAvatarSrc} />)}\r\n           </>);        \r\n}\r\n\r\nUsersList.propTypes = {\r\n  // message: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default UsersList;","import {usersApi} from \"../api/api\";\r\nimport {DEFAULT_AVATAR_SRC} from \"../constants/Users\";\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst IS_FETCHING_FOLLOW_OR_UNFOLLOW_START = 'IS_FETCHING_FOLLOW_OR_UNFOLLOW_START';\r\nconst IS_FETCHING_FOLLOW_OR_UNFOLLOW_END = 'IS_FETCHING_FOLLOW_OR_UNFOLLOW_END';\r\n\r\nlet initialState = {\r\n  users: [],\r\n  defaultAvatarSrc: DEFAULT_AVATAR_SRC,\r\n  pagesSize: 5,\r\n  totalUsersCount: 0,\r\n  isFetching: false,\r\n  isFetchingFollowOrUnfollowIdList: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  \r\n  switch (action.type) {\r\n    case SET_USERS:\r\n      return {\r\n              ...state,\r\n              users: [...action.users]\r\n             }\r\n    case FOLLOW:   \r\n      return {\r\n              ...state,\r\n              users: state.users.map(u => {\r\n                if(u.id === action.id) {\r\n                  u.followed = true;\r\n                }\r\n                return u;\r\n              }),\r\n             }\r\n    case UNFOLLOW:\r\n      return {\r\n              ...state,\r\n              users: state.users.map(u => {\r\n                if(u.id === action.id) {\r\n                  u.followed = false;\r\n                }\r\n                return u;\r\n              }),\r\n             }\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n               ...state,\r\n               totalUsersCount: action.totalUsersCount,\r\n             }\r\n    case TOGGLE_IS_FETCHING:\r\n      if (action.isFetching) {\r\n        return {\r\n                ...state,\r\n                isFetching: true,\r\n               }\r\n      }\r\n      else {\r\n        return {\r\n                ...state,\r\n                isFetching: false,\r\n               }\r\n      }\r\n    case IS_FETCHING_FOLLOW_OR_UNFOLLOW_START:\r\n        return {\r\n                ...state,\r\n                isFetchingFollowOrUnfollowIdList: [...state.isFetchingFollowOrUnfollowIdList, action.id],\r\n               }\r\n    case IS_FETCHING_FOLLOW_OR_UNFOLLOW_END:\r\n      let isFetchingFollowOrUnfollowIdList = state.isFetchingFollowOrUnfollowIdList.filter(id => id !== action.id);\r\n        return {\r\n                ...state,\r\n                isFetchingFollowOrUnfollowIdList,\r\n               }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default usersReducer;\r\nexport let setUsers =(users) => ({type: SET_USERS, users});\r\nexport let followAC = (id) => ({type: FOLLOW, id});\r\nexport let unfollowAC = (id) => ({type: UNFOLLOW, id});\r\nexport let setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\nexport let toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport let isFetchingFollowOrUnfollowStart = (id) => ({type: IS_FETCHING_FOLLOW_OR_UNFOLLOW_START, id});\r\nexport let isFetchingFollowOrUnfollowEnd = (id) => ({type: IS_FETCHING_FOLLOW_OR_UNFOLLOW_END, id});\r\n\r\nexport const getUsersSC = (currentPage, pagesSize) => {\r\n  return async (dispatch) => {\r\n    let action = toggleIsFetching(true);\r\n    dispatch(action);\r\n    let response = await usersApi.getUsers(currentPage, pagesSize);\r\n    if (response.status === 200) {\r\n      action = setUsers(response.data.items);\r\n      dispatch(action);\r\n      action = setTotalUsersCount(response.data.totalCount);\r\n      dispatch(action);\r\n      action = toggleIsFetching(false);\r\n      dispatch(action);\r\n    }\r\n  }\r\n}\r\n\r\nconst followUnfollow = async (dispatch, id, UsersApiFollowOrUnfollow, actionCreator) => {\r\n    let action = isFetchingFollowOrUnfollowStart(id);\r\n    dispatch(action);\r\n    let response = await UsersApiFollowOrUnfollow(id);\r\n    if (response.data.resultCode === 0) {\r\n      action = actionCreator(id);\r\n      dispatch(action);\r\n    }\r\n    action = isFetchingFollowOrUnfollowEnd(id);\r\n    dispatch(action);\r\n}\r\n\r\nexport const follow = (id) => {\r\n  return async (dispatch) => {\r\n    followUnfollow(dispatch, id, usersApi.follow.bind(usersApi), followAC);\r\n  }\r\n}\r\n\r\nexport const unfollow = (id) => {\r\n  return async (dispatch) => {\r\n    followUnfollow(dispatch, id, usersApi.unfollow.bind(usersApi), unfollowAC);\r\n  }\r\n}","import { createSelector } from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n  return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n  return users;\r\n});\r\nexport const getPagesSize = (state) => {\r\n  return state.usersPage.pagesSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPagestate = (state) => {\r\n  return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getIsFetchingFollowOrUnfollowIdList = (state) => {\r\n  return state.usersPage.isFetchingFollowOrUnfollowIdList;\r\n}\r\n\r\nexport const getIsAuth = (state) => {\r\n  return state.auth.isAuth;\r\n}\r\n\r\nexport const getDefaultAvatarSrc = (state) => {\r\n  return state.usersPage.defaultAvatarSrc;\r\n}","import React from \"react\";\r\nimport UsersList from \"./UsersList\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n        getUsersSC,\r\n        unfollow, follow\r\n       } from '../../../redux/users-reducer';\r\nimport {getUsers, getPagesSize, getTotalUsersCount, getCurrentPagestate, getIsFetching, getIsFetchingFollowOrUnfollowIdList, getIsAuth, getDefaultAvatarSrc} from \"../../../redux/users-selectors\";\r\n\r\n\r\n\r\nclass UsersListContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsersSC(this.props.currentPage, this.props.pagesSize);\r\n  }\r\n  \r\n  render() {\r\n\r\n    return (<UsersList totalUsersCount={this.props.totalUsersCount}\r\n                       pagesSize={this.props.pagesSize}\r\n                       users={this.props.users}\r\n                       isFetching={this.props.isFetching}\r\n                       isFetchingFollowOrUnfollowIdList={this.props.isFetchingFollowOrUnfollowIdList} \r\n                       getUsers={this.props.getUsersSC}\r\n                       follow={this.props.follow} \r\n                       unfollow={this.props.unfollow} \r\n                       defaultAvatarSrc={this.props.defaultAvatarSrc} />); \r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n          users: getUsers(state),\r\n          pagesSize: getPagesSize(state),\r\n          totalUsersCount: getTotalUsersCount(state),\r\n          isFetching: getIsFetching(state),\r\n          isFetchingFollowOrUnfollowIdList: getIsFetchingFollowOrUnfollowIdList(state),\r\n          isAuth: getIsAuth(state),\r\n          defaultAvatarSrc: getDefaultAvatarSrc(state),\r\n         }\r\n}\r\n\r\nexport default connect(mapStateToProps,{\r\n                                        getUsersSC,\r\n                                        follow,\r\n                                        unfollow,\r\n                                       }\r\n                                        )(UsersListContainer);","import React from \"react\";\r\nimport style from \"./Users.module.scss\";\r\nimport PropTypes from \"prop-types\";\r\nimport UsersListContainer from \"./UsersList/UsersListContainer\";\r\nimport { connect } from \"react-redux\";\r\nclass Users extends React.Component {\r\n  render() {\r\n    if (!this.props.isAuth) {\r\n      console.log(\"Пользователь анонимный, надо запретить добавлять в друзья и так далее\")\r\n    }\r\n    return (\r\n      <div className={style.UsersContainer}>\r\n        <UsersListContainer />\r\n      </div>\r\n    );\r\n  };\r\n}\r\n\r\nlet mapStateToProps = (state) => (\r\n  {\r\n    isAuth: state.auth.isAuth,\r\n  }\r\n)\r\n\r\nexport default connect(mapStateToProps, null)(Users);\r\n","import React from \"react\";\r\nimport styleForm from \"../../common/FormsControls/FormControls.module.scss\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport {signIn} from \"../../../redux/auth-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {required, maxLengthCreator} from \"../../../utils/validators/validators\";\r\nimport {Login, Pass} from \"../../common/FormsControls/FormControls\";\r\nimport { Redirect } from \"react-router\";\r\nconst maxLength40 = maxLengthCreator(40);\r\n\r\n\r\nconst AuthorizationForm = ({handleSubmit, error}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <Field placeholder={\"Логин\"}\r\n               name={\"login\"}\r\n               component={Login}\r\n               validate={[maxLength40, required]} />\r\n      </div>\r\n      <div>\r\n        <Field placeholder={\"Пароль\"}\r\n               name={\"password\"}\r\n               component={Pass}\r\n               validate={[maxLength40, required]}\r\n               type=\"password\" />\r\n      </div>\r\n      <div>\r\n        <Field type=\"checkbox\" name={\"rememberMe\"} component={\"input\"} /> запомнить меня\r\n      </div>\r\n      <button>Залогиниться</button>\r\n      {error && <div className={styleForm.inCorrectSubmitDataHint}>\r\n        <p>{error}</p>\r\n      </div>}\r\n    </form>\r\n  );\r\n};\r\n\r\nconst AuthorizationFormRedux = reduxForm({form: 'authorization'},)(AuthorizationForm);\r\n\r\nconst AuthorizationPage = ({signIn, isAuth}) => {\r\n  const onSubmit = (formData) => {\r\n    signIn(formData.login, formData.password, formData.rememberMe);\r\n  }\r\n\r\n  if(isAuth) {\r\n    return <Redirect to=\"/profile\" />\r\n  }\r\n  return (\r\n          <div>\r\n            <h1>Авторизация</h1>\r\n            <AuthorizationFormRedux onSubmit={onSubmit} />\r\n          </div>\r\n         );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {signIn})(AuthorizationPage);\r\n\r\n","const INITIALIZE_THE_APPLICATION = \"INITIALIZE_THE_APPLICATION\";\r\n\r\nlet initialState = {\r\n  initializeTheApplication: false,\r\n};\r\n\r\nconst app = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZE_THE_APPLICATION:\r\n      return {\r\n              ...state,\r\n              initializeTheApplication: action.initializeTheApplication,\r\n             }\r\n      default:\r\n        return state;\r\n  }\r\n}\r\n\r\nexport let initializeTheApplicationAC = (initializeTheApplication) => {\r\n  return {\r\n          type: INITIALIZE_THE_APPLICATION,\r\n          initializeTheApplication,\r\n         }\r\n}\r\n\r\nexport const initializeTheApplication = (initializeTheApplication) => {\r\n  return (dispatch) => {\r\n           dispatch(initializeTheApplicationAC(initializeTheApplication));\r\n  }\r\n}\r\n\r\nexport default app;","import React from 'react';\r\nimport style from './App.module.scss';\r\nimport LeftPanel from'../LeftPanel';\r\nimport Header from '../Header';\r\nimport ProfileContainer from '../Profile/ProfileContainer';\r\nimport DialogsContainer from '../Dialogs/DialogsContainer';\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport Users from '../Users/Users';\r\nimport AuthorizationPage from '../Authorization/AuthorizationPage/AuthorizationPage';\r\nimport { Route } from 'react-router-dom';\r\nimport {connect} from \"react-redux\";\r\nimport app, {initializeTheApplication} from \"../../redux/app-reducer\";\r\nimport {authMe} from \"../../redux/auth-reducer\";\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.authMe()\r\n              .then(response => {\r\n                this.props.initializeTheApplication(true);\r\n              });\r\n  }\r\n  render() {\r\n    if (!this.props.initialize) {\r\n      return (<Preloader />)\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        {this.props.initialize && <div>\r\n        <Header />\r\n        <div className={style.container}>\r\n          <LeftPanel />\r\n          <Route path='/dialog' render={() => <DialogsContainer />} />\r\n          <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\r\n          <Route path='/users' render={() => <Users />} />\r\n          <Route path='/authorization' render={() => <AuthorizationPage />} />\r\n        </div>\r\n        </div>}\r\n      </div>);\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    initialize: state.appPage.initializeTheApplication,\r\n  }\r\n}\r\nexport default connect(mapStateToProps, {authMe, initializeTheApplication})(App);","import {combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport app from \"./app-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { applyMiddleware } from \"redux\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  appPage: app,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nlet store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow.store = store;\r\nexport default store;","import App from './components/App/App.js';\r\nimport ReactDOM from 'react-dom'\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport React from 'react';\r\nimport store from './redux/redux-store.js';\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\nReactDOM.render(<BrowserRouter>\r\n                  <Provider store={store}>\r\n                    <App />\r\n                  </Provider>\r\n                </BrowserRouter>, document.getElementById('root'));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"authorizationPanelWrapper\":\"AuthorizationPanel_authorizationPanelWrapper__1bhJe\",\"authorizationPanelInfo\":\"AuthorizationPanel_authorizationPanelInfo__3_fJw\",\"authorizationPanel\":\"AuthorizationPanel_authorizationPanel__3w8Bx\",\"infoText\":\"AuthorizationPanel_infoText__1zeF3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UserItemContainer\":\"UserItem_UserItemContainer__2Ik_7\",\"photo\":\"UserItem_photo__1sf8v\",\"name\":\"UserItem_name__1QGau\",\"deleteFriendButton\":\"UserItem_deleteFriendButton__MKWAS\",\"addFriendButton\":\"UserItem_addFriendButton__qJpQC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"currentPage\":\"Pagination_currentPage__HH1ct\",\"pageNumberListContainer\":\"Pagination_pageNumberListContainer__-1r1P\",\"pageNumberContainer\":\"Pagination_pageNumberContainer__2P-Qy\",\"button\":\"Pagination_button__2bjFZ\",\"loadingStyle\":\"Pagination_loadingStyle__29tdL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statusTextContainer\":\"Status_statusTextContainer__JUeZv\",\"statusText\":\"Status_statusText__2xGlD\",\"inputStatusText\":\"Status_inputStatusText__13pRW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PostContainer\":\"Post_PostContainer__1fhkP\",\"PostContentImg\":\"Post_PostContentImg__1ZA0M\",\"PostCountLikes\":\"Post_PostCountLikes__1b4Zj\",\"image\":\"Post_image__2asa4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendContainer\":\"Friend_friendContainer__27x-t\",\"photo\":\"Friend_photo__3uEqt\",\"name\":\"Friend_name__1Ja3E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"authorizationItem\":\"AuthorizationItem_authorizationItem__1iSCt\",\"authorizationImg\":\"AuthorizationItem_authorizationImg__Ye7n0\",\"authorizationText\":\"AuthorizationItem_authorizationText__3I-j2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1scr8\",\"active\":\"Dialogs_active__3q39t\",\"dialogsItems\":\"Dialogs_dialogsItems__2KGmB\",\"messages\":\"Dialogs_messages__2NZK5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileContainer\":\"Profile_ProfileContainer__1LAEI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ProfileInfo_image__2hw9i\"};"],"sourceRoot":""}